{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNavigationStack = require(\"react-navigation-stack\");\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _NewsCard = _interopRequireDefault(require(\"../common/NewsCard\"));\n\nvar _syncStorage = _interopRequireDefault(require(\"sync-storage\"));\n\nvar _WooComFetch = require(\"../common/WooComFetch\");\n\nvar _Theme = _interopRequireDefault(require(\"../common/Theme.style\"));\n\nvar _reactNativeIndicators = require(\"react-native-indicators\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\mysiew\\\\Documents\\\\eCommerce\\\\codecanyon-xPJMYS8x-react-native-delivery-solution-with-advance-website-and-cms\\\\SourceCode\\\\vesend-consumer-app-master\\\\src\\\\screens\\\\NewsList.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar RewardPoints = function (_Component) {\n  (0, _inherits2.default)(RewardPoints, _Component);\n\n  var _super = _createSuper(RewardPoints);\n\n  (0, _createClass2.default)(RewardPoints, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getPosts();\n      this.props.navigation.setParams({\n        headerTitle: this.props.isLoading.Config.languageJson2['News List']\n      });\n    }\n  }]);\n\n  function RewardPoints(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, RewardPoints);\n    _this = _super.call(this, props);\n\n    _this.getPosts = function _callee() {\n      var formData, data;\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              formData = new FormData();\n              formData.append('categories_id', _this.state.id);\n              formData.append('page_number', _this.state.page2);\n              formData.append('language_id', _syncStorage.default.get('langId') === undefined ? 1 : _syncStorage.default.get('langId'));\n              formData.append('currency_code', _this.props.isLoading.Config.productsArguments.currency);\n              _context.next = 7;\n              return _regenerator.default.awrap((0, _WooComFetch.postHttp)((0, _WooComFetch.getUrl)() + '/api/' + 'getallnews', formData));\n\n            case 7:\n              data = _context.sent;\n\n              if (_this.state.page2 === 0) {\n                _this.state.posts = [];\n\n                _this.setState({\n                  refreshing: false\n                });\n              }\n\n              if (data.success === '1') {\n                _this.state.page2++;\n                data.news_data.forEach(function (value, index) {\n                  _this.state.posts.push(value);\n                });\n              }\n\n              if (data.news_data.length < 9) {\n                _this.setState({\n                  refreshing: false\n                });\n\n                if (_this.state.posts.length !== 0) {}\n              }\n\n              _this.setState({});\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.convertHtmlTag = function (htmlprice) {\n      var str = htmlprice;\n      return str.replace(/<[^>]*>/g, '');\n    };\n\n    _this.renderFooter = function () {\n      return _react.default.createElement(_reactNative.View, {\n        style: {\n          marginBottom: 30,\n          marginTop: 10,\n          alignItems: 'center',\n          alignSelf: 'center',\n          alignContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 5\n        }\n      }, _this.state.refreshing && _this.state.posts.length !== 0 ? _react.default.createElement(_reactNative.View, {\n        style: {\n          marginTop: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNativeIndicators.UIActivityIndicator, {\n        size: 27,\n        count: 12,\n        color: _Theme.default.loadingIndicatorColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }\n      })) : null);\n    };\n\n    _this.renderSeparator = function () {\n      return _react.default.createElement(_reactNative.View, {\n        style: {\n          height: 1,\n          width: '100%',\n          backgroundColor: '#ddd'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 5\n        }\n      });\n    };\n\n    _this.openSubCategories = function (data) {\n      _this.props.navigation.navigate('NewsDetails', {\n        data: data\n      });\n    };\n\n    _this.temp = function () {\n      _this.setState({\n        refreshing: true,\n        page2: _this.state.page2 + 1\n      }, function () {\n        _this.getPosts();\n      });\n    };\n\n    _this.state = {\n      page2: 0,\n      posts: [],\n      name: _this.props.navigation.state.params.data.name,\n      id: _this.props.navigation.state.params.data.id,\n      refreshing: false\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(RewardPoints, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return this.state.posts.length === 0 ? _react.default.createElement(_reactNative.View, {\n        style: {\n          flex: 1,\n          justifyContent: 'center',\n          alignItems: 'center',\n          backgroundColor: _Theme.default.backgroundColor\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNativeIndicators.UIActivityIndicator, {\n        size: 27,\n        style: {\n          height: 20,\n          marginTop: 30,\n          alignSelf: 'center'\n        },\n        color: _Theme.default.loadingIndicatorColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 9\n        }\n      })) : _react.default.createElement(_reactNative.View, {\n        style: {\n          backgroundColor: _Theme.default.backgroundColor,\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNative.FlatList, {\n        data: this.state.posts,\n        tabLabel: {\n          label: this.props.isLoading.Config.languageJson2.newest\n        },\n        showsVerticalScrollIndicator: false,\n        vertical: true,\n        listKey: '123',\n        extraData: this.state,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        ItemSeparatorComponent: this.renderSeparator,\n        renderItem: function renderItem(item) {\n          return _react.default.createElement(_NewsCard.default, {\n            item: item.item,\n            id: item.index,\n            html: _this2.convertHtmlTag(item.item.news_description),\n            image: item.item.image === null ? '' : item.item.image,\n            openSubCategories: function openSubCategories(t, n) {\n              return _this2.openSubCategories(t, n);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 13\n            }\n          });\n        },\n        onEndReachedThreshold: 10,\n        ListFooterComponent: function ListFooterComponent() {\n          return _this2.renderFooter();\n        },\n        onMomentumScrollBegin: function onMomentumScrollBegin() {\n          _this2.onEndReachedCalledDuringMomentum = false;\n        },\n        onEndReached: function onEndReached() {\n          if (!_this2.onEndReachedCalledDuringMomentum) {\n            _this2.temp();\n\n            _this2.onEndReachedCalledDuringMomentum = true;\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n  return RewardPoints;\n}(_react.Component);\n\nRewardPoints.navigationOptions = function (_ref) {\n  var navigation = _ref.navigation;\n  var headerStyle = navigation.getParam('headerTitle');\n  return {\n    headerTitle: headerStyle,\n    cardStyleInterpolator: _reactNavigationStack.CardStyleInterpolators.forHorizontalIOS,\n    headerRight: function headerRight() {\n      return null;\n    },\n    gestureEnabled: false,\n    drawerLockMode: 'locked-closed',\n    headerTitleAlign: 'center',\n    headerTintColor: _Theme.default.headerTintColor,\n    headerStyle: {\n      backgroundColor: _Theme.default.primary\n    },\n    headerTitleStyle: {\n      fontWeight: _reactNative.Platform.OS === 'android' ? 'bold' : 'normal'\n    },\n    headerForceInset: {\n      top: 'never',\n      vertical: 'never'\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isLoading: state\n  };\n};\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, null)(RewardPoints);\n\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/mysiew/Documents/eCommerce/codecanyon-xPJMYS8x-react-native-delivery-solution-with-advance-website-and-cms/SourceCode/vesend-consumer-app-master/src/screens/NewsList.js"],"names":["RewardPoints","getPosts","props","navigation","setParams","headerTitle","isLoading","Config","languageJson2","formData","FormData","append","state","id","page2","SyncStorage","get","undefined","productsArguments","currency","data","posts","setState","refreshing","success","news_data","forEach","value","index","push","length","convertHtmlTag","htmlprice","str","replace","renderFooter","marginBottom","marginTop","alignItems","alignSelf","alignContent","ThemeStyle","loadingIndicatorColor","renderSeparator","height","width","backgroundColor","openSubCategories","navigate","temp","name","params","flex","justifyContent","label","newest","item","toString","news_description","image","t","n","onEndReachedCalledDuringMomentum","Component","navigationOptions","headerStyle","getParam","cardStyleInterpolator","CardStyleInterpolators","forHorizontalIOS","headerRight","gestureEnabled","drawerLockMode","headerTitleAlign","headerTintColor","primary","headerTitleStyle","fontWeight","Platform","OS","headerForceInset","top","vertical","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { CardStyleInterpolators } from 'react-navigation-stack'\nimport { View, FlatList, Platform } from 'react-native'\nimport { connect } from 'react-redux'\nimport NewsCard from '../common/NewsCard'\nimport SyncStorage from 'sync-storage'\nimport { getUrl, postHttp } from '../common/WooComFetch'\nimport ThemeStyle from '../common/Theme.style'\nimport { UIActivityIndicator } from 'react-native-indicators'\nclass RewardPoints extends Component {\n  static navigationOptions = ({ navigation }) => {\n    const headerStyle = navigation.getParam('headerTitle')\n    return {\n      headerTitle: headerStyle,\n      cardStyleInterpolator: CardStyleInterpolators.forHorizontalIOS,\n      headerRight: () => null,\n      gestureEnabled: false,\n      drawerLockMode: 'locked-closed',\n      headerTitleAlign: 'center',\n\n      headerTintColor: ThemeStyle.headerTintColor,\n      headerStyle: {\n        backgroundColor: ThemeStyle.primary\n      },\n      headerTitleStyle: {\n        fontWeight: Platform.OS === 'android' ? 'bold' : 'normal'\n      },\n      headerForceInset: { top: 'never', vertical: 'never' }\n    }\n  }\n\n  componentDidMount () {\n    this.getPosts()\n    this.props.navigation.setParams({\n      headerTitle: this.props.isLoading.Config.languageJson2['News List']\n    })\n  }\n\n  constructor (props) {\n    super(props)\n    this.state = {\n      page2: 0,\n      posts: [],\n      name: this.props.navigation.state.params.data.name,\n      id: this.props.navigation.state.params.data.id,\n      refreshing: false\n    }\n  }\n\n  //= ===========================================================================================\n  // getting list of posts\n  getPosts = async () => {\n    const formData = new FormData()\n\n    formData.append('categories_id', this.state.id)\n    formData.append('page_number', this.state.page2)\n    formData.append(\n      'language_id',\n      SyncStorage.get('langId') === undefined ? 1 : SyncStorage.get('langId')\n    )\n    formData.append(\n      'currency_code',\n      this.props.isLoading.Config.productsArguments.currency\n    )\n\n    const data = await postHttp(getUrl() + '/api/' + 'getallnews', formData)\n    if (this.state.page2 === 0) {\n      this.state.posts = []\n      this.setState({ refreshing: false })\n    }\n    if (data.success === '1') {\n      this.state.page2++\n      data.news_data.forEach((value, index) => {\n        this.state.posts.push(value)\n      })\n    }\n    if (data.news_data.length < 9) {\n      this.setState({ refreshing: false })\n      if (this.state.posts.length !== 0) {\n      }\n    }\n\n    this.setState({})\n  }\n\n  //= ===========================================================================================\n  convertHtmlTag = htmlprice => {\n    const str = htmlprice\n    return str.replace(/<[^>]*>/g, '')\n  }\n\n  /// ///////////////////////////////////\n  renderFooter = () => (\n    <View\n      style={{\n        marginBottom: 30,\n        marginTop: 10,\n        alignItems: 'center',\n        alignSelf: 'center',\n        alignContent: 'center'\n      }}>\n      {this.state.refreshing && this.state.posts.length !== 0 ? (\n        <View\n          style={{\n            marginTop: 30\n          }}>\n          <UIActivityIndicator\n            size={27}\n            count={12}\n            color={ThemeStyle.loadingIndicatorColor}\n          />\n        </View>\n      ) : null}\n    </View>\n  )\n\n  renderSeparator = () => (\n    <View style={{ height: 1, width: '100%', backgroundColor: '#ddd' }} />\n  )\n\n  openSubCategories = data => {\n    this.props.navigation.navigate('NewsDetails', {\n      data\n    })\n  }\n\n  temp = () => {\n    this.setState({ refreshing: true, page2: this.state.page2 + 1 }, () => {\n      this.getPosts()\n    })\n  }\n\n  render () {\n    return this.state.posts.length === 0 ? (\n      <View\n        style={{\n          flex: 1,\n          justifyContent: 'center',\n          alignItems: 'center',\n          backgroundColor: ThemeStyle.backgroundColor\n        }}>\n        <UIActivityIndicator\n          size={27}\n          style={{ height: 20, marginTop: 30, alignSelf: 'center' }}\n          color={ThemeStyle.loadingIndicatorColor}\n        />\n      </View>\n    ) : (\n      <View style={{ backgroundColor: ThemeStyle.backgroundColor, flex: 1 }}>\n        <FlatList\n          data={this.state.posts}\n          tabLabel={{\n            label: this.props.isLoading.Config.languageJson2.newest\n          }}\n          showsVerticalScrollIndicator={false}\n          vertical\n          listKey={'123'}\n          extraData={this.state}\n          keyExtractor={(item, index) => index.toString()}\n          ItemSeparatorComponent={this.renderSeparator}\n          renderItem={item => (\n            <NewsCard\n              item={item.item}\n              id={item.index}\n              html={this.convertHtmlTag(item.item.news_description)}\n              image={item.item.image === null ? '' : item.item.image}\n              openSubCategories={(t, n) => this.openSubCategories(t, n)}\n            />\n          )}\n          onEndReachedThreshold={10}\n          ListFooterComponent={() => this.renderFooter()}\n          onMomentumScrollBegin={() => {\n            this.onEndReachedCalledDuringMomentum = false\n          }}\n          onEndReached={() => {\n            if (!this.onEndReachedCalledDuringMomentum) {\n              this.temp()\n              this.onEndReachedCalledDuringMomentum = true\n            }\n          }}\n        />\n      </View>\n    )\n  }\n}\nconst mapStateToProps = state => ({\n  isLoading: state\n})\n\nexport default connect(mapStateToProps, null)(RewardPoints)\n"]},"metadata":{},"sourceType":"script"}