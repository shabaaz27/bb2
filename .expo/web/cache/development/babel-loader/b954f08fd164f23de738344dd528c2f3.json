{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNavigationStack = require(\"react-navigation-stack\");\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeIndicators = require(\"react-native-indicators\");\n\nvar _reactNativeLoadingSpinnerOverlay = _interopRequireDefault(require(\"react-native-loading-spinner-overlay\"));\n\nvar _WooComFetch = require(\"../common/WooComFetch\");\n\nvar _nativeBase = require(\"native-base\");\n\nvar _syncStorage = _interopRequireDefault(require(\"sync-storage\"));\n\nvar _reactNativeRestart = _interopRequireDefault(require(\"react-native-restart\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _Theme = _interopRequireDefault(require(\"../common/Theme.style\"));\n\nvar _ShoppingCartIcon = _interopRequireDefault(require(\"../common/ShoppingCartIcon\"));\n\nvar _jsxFileName = \"C:\\\\Users\\\\mysiew\\\\Documents\\\\eCommerce\\\\codecanyon-xPJMYS8x-react-native-delivery-solution-with-advance-website-and-cms\\\\SourceCode\\\\vesend-consumer-app-master\\\\src\\\\screens\\\\LanguageScreen.js\";\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Language = function (_PureComponent) {\n  (0, _inherits2.default)(Language, _PureComponent);\n\n  var _super = _createSuper(Language);\n\n  (0, _createClass2.default)(Language, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      return _regenerator.default.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.getListOfLanguage();\n              this.props.navigation.setParams({\n                headerTitle: this.props.isLoading.Config.languageJson2['Select Language']\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }]);\n\n  function Language(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Language);\n    _this = _super.call(this, props);\n\n    _this.getListOfLanguage = function _callee() {\n      var json, _iterator, _step, val;\n\n      return _regenerator.default.async(function _callee$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regenerator.default.awrap((0, _WooComFetch.getHttp)((0, _WooComFetch.getUrl)() + '/api/' + 'getlanguages', {}));\n\n            case 2:\n              json = _context2.sent;\n\n              for (_iterator = _createForOfIteratorHelperLoose(json.data.languages); !(_step = _iterator()).done;) {\n                val = _step.value;\n\n                if (val.languages_id === _syncStorage.default.get('langId')) {\n                  _this.state.tick[val.languages_id] = true;\n                }\n              }\n\n              _this.setState({\n                languages: json.data.languages,\n                isLoading: false,\n                tick: _this.state.tick\n              });\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      languages: '',\n      selectedLanguage: '',\n      translate: '',\n      prviousLanguageId: 0,\n      temp: 0,\n      tick: [],\n      isLoading: true,\n      SpinnerTemp: false\n    };\n    _this.state.tick[_syncStorage.default.get('langId')] = true;\n    return _this;\n  }\n\n  (0, _createClass2.default)(Language, [{\n    key: \"updateLanguage\",\n    value: function updateLanguage(item) {\n      if (item != undefined && this.state.prviousLanguageId != item.languages_id) {\n        _syncStorage.default.set('langId', item.languages_id);\n\n        _syncStorage.default.set('languageCode', item.code);\n\n        _syncStorage.default.set('wishListProducts', []);\n\n        _syncStorage.default.set('recentViewedProducts', []);\n\n        _syncStorage.default.set('cartProducts', []);\n\n        this.state.tick = [];\n        this.state.tick[item.languages_id] = true;\n\n        if (item.code === 'ar') {\n          _reactNative.I18nManager.forceRTL(true);\n        } else {\n          _reactNative.I18nManager.forceRTL(false);\n        }\n\n        this.setState({\n          temp: 0\n        });\n        this.props.getTranslationData(item.languages_id, this);\n      } else {\n        this.setState({\n          SpinnerTemp: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return this.state.isLoading ? _react.default.createElement(_reactNative.View, {\n        style: {\n          flex: 1,\n          justifyContent: 'center',\n          backgroundColor: _Theme.default.backgroundColor\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNativeIndicators.UIActivityIndicator, {\n        size: 27,\n        color: _Theme.default.loadingIndicatorColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 9\n        }\n      })) : _react.default.createElement(_nativeBase.Container, {\n        style: {\n          backgroundColor: _Theme.default.backgroundColor\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNativeLoadingSpinnerOverlay.default, {\n        visible: this.state.SpinnerTemp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }\n      }), _react.default.createElement(_reactNative.View, {\n        style: {\n          backgroundColor: _Theme.default.backgroundColor\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNative.FlatList, {\n        style: {\n          backgroundColor: _Theme.default.backgroundColor\n        },\n        data: this.state.languages,\n        horizontal: false,\n        extraData: this.state,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        renderItem: function renderItem(item) {\n          return _react.default.createElement(_reactNative.View, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }\n          }, _react.default.createElement(_nativeBase.ListItem, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }\n          }, _react.default.createElement(_reactNative.TouchableOpacity, {\n            onPress: function onPress() {\n              _this2.setState({\n                SpinnerTemp: true\n              }, function () {\n                return _this2.updateLanguage(item.item);\n              });\n            },\n            style: {\n              flexDirection: 'row',\n              alignItems: 'center'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 19\n            }\n          }, _react.default.createElement(_reactNative.Image, {\n            key: 0,\n            style: {\n              width: 28,\n              height: 28\n            },\n            loadingStyle: {\n              size: 'large',\n              color: _Theme.default.loadingIndicatorColor\n            },\n            resizeMode: 'contain',\n            placeholder: false,\n            ActivityIndicator: true,\n            placeholderStyle: {\n              width: 0,\n              height: 0\n            },\n            source: {\n              uri: _Theme.default.url + '/' + item.item.image\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 21\n            }\n          }), _react.default.createElement(_nativeBase.Body, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 21\n            }\n          }, _react.default.createElement(_nativeBase.Text, {\n            style: {\n              fontSize: _Theme.default.mediumSize,\n              color: _Theme.default.textColor\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 23\n            }\n          }, item.item.name)), _react.default.createElement(_nativeBase.CheckBox, {\n            onPress: function onPress() {\n              _this2.setState({\n                SpinnerTemp: true\n              }, function () {\n                return _this2.updateLanguage(item.item);\n              });\n            },\n            checked: !!_this2.state.tick[item.item.languages_id],\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 21\n            }\n          }))));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n  return Language;\n}(_react.PureComponent);\n\nLanguage.navigationOptions = function (_ref) {\n  var navigation = _ref.navigation;\n  var headerStyle = navigation.getParam('headerTitle');\n  return {\n    headerTitle: headerStyle,\n    cardStyleInterpolator: _reactNavigationStack.CardStyleInterpolators.forHorizontalIOS,\n    headerRight: function headerRight() {\n      return _react.default.createElement(_ShoppingCartIcon.default, {\n        navigation: navigation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 26\n        }\n      });\n    },\n    headerTitleAlign: 'center',\n    headerTintColor: _Theme.default.headerTintColor,\n    headerStyle: {\n      backgroundColor: _Theme.default.primary\n    },\n    headerTitleStyle: {\n      fontWeight: _reactNative.Platform.OS === 'android' ? 'bold' : 'normal'\n    },\n    headerForceInset: {\n      top: 'never',\n      vertical: 'never'\n    },\n    gestureEnabled: true\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getTranslationData: function getTranslationData(id, t) {\n      dispatch(function _callee2(dispatch) {\n        var json;\n        return _regenerator.default.async(function _callee2$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _regenerator.default.awrap((0, _WooComFetch.getHttp)((0, _WooComFetch.getUrl)() + '/api/' + 'applabels3?lang=' + id, {}));\n\n              case 2:\n                json = _context3.sent;\n                t.setState({\n                  SpinnerTemp: false\n                });\n                dispatch({\n                  type: 'languageSettings',\n                  payload: json.data\n                });\n\n                _reactNativeRestart.default.Restart();\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      });\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isLoading: state\n  };\n};\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(Language);\n\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/mysiew/Documents/eCommerce/codecanyon-xPJMYS8x-react-native-delivery-solution-with-advance-website-and-cms/SourceCode/vesend-consumer-app-master/src/screens/LanguageScreen.js"],"names":["Language","getListOfLanguage","props","navigation","setParams","headerTitle","isLoading","Config","languageJson2","json","data","languages","val","languages_id","SyncStorage","get","state","tick","setState","selectedLanguage","translate","prviousLanguageId","temp","SpinnerTemp","item","undefined","set","code","I18nManager","forceRTL","getTranslationData","flex","justifyContent","backgroundColor","themeStyle","loadingIndicatorColor","index","toString","updateLanguage","flexDirection","alignItems","width","height","size","color","uri","url","image","fontSize","mediumSize","textColor","name","PureComponent","navigationOptions","headerStyle","getParam","cardStyleInterpolator","CardStyleInterpolators","forHorizontalIOS","headerRight","headerTitleAlign","headerTintColor","primary","headerTitleStyle","fontWeight","Platform","OS","headerForceInset","top","vertical","gestureEnabled","mapDispatchToProps","dispatch","id","t","type","payload","RNRestart","Restart","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react'\nimport { CardStyleInterpolators } from 'react-navigation-stack'\nimport {\n  View,\n  FlatList,\n  I18nManager,\n  TouchableOpacity,\n  Image,\n  Platform\n} from 'react-native'\nimport { UIActivityIndicator } from 'react-native-indicators'\nimport Spinner from 'react-native-loading-spinner-overlay'\nimport { getHttp, getUrl } from '../common/WooComFetch'\nimport { Container, Content, ListItem, CheckBox, Text, Body } from 'native-base'\nimport SyncStorage from 'sync-storage'\nimport RNRestart from 'react-native-restart'\nimport { connect } from 'react-redux'\nimport themeStyle from '../common/Theme.style'\nimport ShoppingCartIcon from '../common/ShoppingCartIcon'\nclass Language extends PureComponent {\n  static navigationOptions = ({ navigation }) => {\n    const headerStyle = navigation.getParam('headerTitle')\n    return {\n      headerTitle: headerStyle,\n      cardStyleInterpolator: CardStyleInterpolators.forHorizontalIOS,\n      headerRight: () => <ShoppingCartIcon navigation={navigation} />,\n      headerTitleAlign: 'center',\n      headerTintColor: themeStyle.headerTintColor,\n      headerStyle: {\n        backgroundColor: themeStyle.primary\n      },\n      headerTitleStyle: {\n        fontWeight: Platform.OS === 'android' ? 'bold' : 'normal'\n      },\n      headerForceInset: { top: 'never', vertical: 'never' },\n      gestureEnabled: true\n    }\n  }\n\n  getListOfLanguage = async () => {\n    const json = await getHttp(getUrl() + '/api/' + 'getlanguages', {})\n    for (const val of json.data.languages) {\n      if (val.languages_id === SyncStorage.get('langId')) {\n        this.state.tick[val.languages_id] = true\n      }\n    }\n    this.setState({\n      languages: json.data.languages,\n      isLoading: false,\n      tick: this.state.tick\n    })\n  }\n\n  async componentDidMount () {\n    this.getListOfLanguage()\n    this.props.navigation.setParams({\n      headerTitle: this.props.isLoading.Config.languageJson2['Select Language']\n    })\n  }\n\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      languages: '',\n      selectedLanguage: '',\n      translate: '',\n      prviousLanguageId: 0,\n      temp: 0,\n      tick: [],\n      isLoading: true,\n      SpinnerTemp: false\n    }\n    this.state.tick[SyncStorage.get('langId')] = true\n  }\n\n  /// //////////////////////////////////////////\n  updateLanguage (item) {\n    if (\n      item != undefined &&\n      this.state.prviousLanguageId != item.languages_id\n    ) {\n      SyncStorage.set('langId', item.languages_id)\n      SyncStorage.set('languageCode', item.code)\n      SyncStorage.set('wishListProducts', [])\n      SyncStorage.set('recentViewedProducts', [])\n      SyncStorage.set('cartProducts', [])\n      this.state.tick = []\n      this.state.tick[item.languages_id] = true\n\n      if (item.code === 'ar') {\n        I18nManager.forceRTL(true)\n      } else {\n        I18nManager.forceRTL(false)\n      }\n      this.setState({ temp: 0 })\n      this.props.getTranslationData(item.languages_id, this)\n    } else {\n      this.setState({ SpinnerTemp: false })\n    }\n  }\n\n  render () {\n    return this.state.isLoading ? (\n      <View\n        style={{\n          flex: 1,\n          justifyContent: 'center',\n          backgroundColor: themeStyle.backgroundColor\n        }}>\n        <UIActivityIndicator\n          size={27}\n          color={themeStyle.loadingIndicatorColor}\n        />\n      </View>\n    ) : (\n      <Container style={{ backgroundColor: themeStyle.backgroundColor }}>\n        <Spinner visible={this.state.SpinnerTemp} />\n        <View style={{ backgroundColor: themeStyle.backgroundColor }}>\n          <FlatList\n            style={{ backgroundColor: themeStyle.backgroundColor }}\n            data={this.state.languages}\n            horizontal={false}\n            extraData={this.state}\n            keyExtractor={(item, index) => index.toString()}\n            renderItem={item => (\n              <View>\n                <ListItem>\n                  <TouchableOpacity\n                    onPress={() => {\n                      this.setState({ SpinnerTemp: true }, () =>\n                        this.updateLanguage(item.item)\n                      )\n                    }}\n                    style={{ flexDirection: 'row', alignItems: 'center' }}>\n                    <Image\n                      key={0}\n                      style={{ width: 28, height: 28 }}\n                      loadingStyle={{\n                        size: 'large',\n                        color: themeStyle.loadingIndicatorColor\n                      }}\n                      resizeMode={'contain'}\n                      placeholder={false}\n                      ActivityIndicator={true}\n                      placeholderStyle={{ width: 0, height: 0 }}\n                      source={{ uri: themeStyle.url + '/' + item.item.image }}\n                    />\n                    <Body>\n                      <Text style={{\n                        fontSize: themeStyle.mediumSize,\n                        color: themeStyle.textColor\n                      }}>{item.item.name}</Text>\n                    </Body>\n                    <CheckBox\n                      onPress={() => {\n                        this.setState({ SpinnerTemp: true }, () =>\n                          this.updateLanguage(item.item)\n                        )\n                      }}\n                      checked={!!this.state.tick[item.item.languages_id]}\n                    />\n                  </TouchableOpacity>\n                </ListItem>\n              </View>\n            )}\n          />\n        </View>\n      </Container>\n    )\n  }\n}\n/// ///////////////////////////////////////\nconst mapDispatchToProps = dispatch => ({\n  getTranslationData: (id, t) => {\n    dispatch(async dispatch => {\n      const json = await getHttp(\n        getUrl() + '/api/' + 'applabels3?lang=' + id,\n        {}\n      )\n      t.setState({ SpinnerTemp: false })\n      dispatch({\n        type: 'languageSettings',\n        payload: json.data\n      })\n      RNRestart.Restart()\n    })\n  }\n})\nconst mapStateToProps = state => ({\n  isLoading: state\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Language)\n"]},"metadata":{},"sourceType":"script"}