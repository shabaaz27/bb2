{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNavigationStack = require(\"react-navigation-stack\");\n\nvar _reactNavigation = require(\"react-navigation\");\n\nvar _WooComFetch = _interopRequireWildcard(require(\"../common/WooComFetch\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _syncStorage = _interopRequireDefault(require(\"sync-storage\"));\n\nvar _reactNativeLoadingSpinnerOverlay = _interopRequireDefault(require(\"react-native-loading-spinner-overlay\"));\n\nvar _ShoppingCartIcon = _interopRequireDefault(require(\"../common/ShoppingCartIcon\"));\n\nvar _Theme = _interopRequireDefault(require(\"../common/Theme.style\"));\n\nvar _jsxFileName = \"C:\\\\Users\\\\mysiew\\\\Documents\\\\eCommerce\\\\codecanyon-xPJMYS8x-react-native-delivery-solution-with-advance-website-and-cms\\\\SourceCode\\\\vesend-consumer-app-master\\\\src\\\\screens\\\\MyAccountScreen.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar WIDTH = _reactNative.Dimensions.get('window').width;\n\nvar CreateAccount = function (_Component) {\n  (0, _inherits2.default)(CreateAccount, _Component);\n\n  var _super = _createSuper(CreateAccount);\n\n  (0, _createClass2.default)(CreateAccount, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.navigation.setParams({\n        headerTitle: this.props.isLoading.Config.languageJson2['Edit Profile']\n      });\n    }\n  }]);\n\n  function CreateAccount(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, CreateAccount);\n    _this = _super.call(this, props);\n\n    _this.updateInfo = function (t) {\n      var reg = /^[0-9]{10,11}$/;\n      var reg2 = /^(\\+601)[0-9]{8,9}$/;\n      _this.state.phoneNumber = _this.state.phone;\n\n      if (reg2.test(_this.state.phoneNumber) !== true) {\n        if (_this.state.phoneNumber.length !== 0 && reg.test(_this.state.phoneNumber) === true) {\n          _this.state.phone = '+6' + _this.state.phoneNumber;\n        }\n      }\n\n      if (reg2.test(_this.state.phone) === false) {\n        t.setState({\n          errorMessage: _this.props.isLoading.Config.languageJson2['The phone number is not valid. No dashes or spaces'],\n          success: '0'\n        });\n        return;\n      }\n\n      if (!_this.canBeSubmitted()) {\n        t.setState({\n          errorMessage: _this.props.isLoading.Config.languageJson2['The phone number is not valid in length'],\n          success: '0'\n        });\n        return;\n      }\n\n      t.setState({\n        spinnerTemp: true\n      });\n      t.state.myAccountData.customers_firstname = t.state.firstName;\n      t.state.myAccountData.customers_lastname = t.state.lastName;\n      t.state.myAccountData.customers_telephone = t.state.phone;\n      t.state.myAccountData.customers_id = _syncStorage.default.get('customerData').customers_id;\n\n      if (t.state.password != '') {\n        t.state.myAccountData.password = t.state.password;\n      }\n\n      t.UpdateCustomerData1(t.state.myAccountData);\n    };\n\n    _this.UpdateCustomerData1 = function _callee(object) {\n      var data;\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regenerator.default.awrap(_WooComFetch.default.postHttp((0, _WooComFetch.getUrl)() + '/api/' + 'updatecustomerinfo', object));\n\n            case 2:\n              data = _context.sent;\n\n              if (data.data.success === '1') {\n                _syncStorage.default.set('customerData', (0, _extends2.default)(_syncStorage.default.get('customerData'), {\n                  first_name: _this.state.firstName,\n                  last_name: _this.state.lastName,\n                  phone: _this.state.phone,\n                  customers_telephone: _this.state.phone\n                }));\n              }\n\n              _this.setState({\n                spinnerTemp: false,\n                currentPassword: '',\n                password: '',\n                errorMessage: data.data.message,\n                success: data.data.success\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      myAccountData: {},\n      firstName: _syncStorage.default.get('customerData').customers_firstname,\n      lastName: _syncStorage.default.get('customerData').customers_lastname,\n      errorMessage: '',\n      spinnerTemp: false,\n      phone: _syncStorage.default.get('customerData').phone,\n      phoneNumber: '',\n      currentPassword: '',\n      password: '',\n      success: '',\n      customers_id: '',\n      image_id: 0,\n      customers_telephone: ''\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(CreateAccount, [{\n    key: \"canBeSubmitted\",\n    value: function canBeSubmitted() {\n      var reg = /^(\\+601)[0-9]{8,9}$/;\n      var phone = this.state.phone;\n      return (phone.length >= 12 || phone.length === 0) && (phone.length === 0 || reg.test(phone));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var isEnabled = this.canBeSubmitted();\n      return _react.default.createElement(_reactNative.ScrollView, {\n        style: {\n          backgroundColor: _Theme.default.backgroundColor\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: {\n          flex: 1,\n          backgroundColor: _Theme.default.backgroundColor,\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNativeLoadingSpinnerOverlay.default, {\n        visible: this.state.spinnerTemp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }\n      }), _react.default.createElement(_reactNavigation.NavigationEvents, {\n        onDidFocus: function onDidFocus() {\n          _this2.state.firstName = _syncStorage.default.get('customerData').first_name;\n          _this2.state.lastName = _syncStorage.default.get('customerData').last_name;\n          _this2.state.phone = _syncStorage.default.get('customerData').phone;\n\n          _this2.setState({});\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }\n      }), _react.default.createElement(_reactNative.View, {\n        style: {\n          flex: 1,\n          flexDirection: 'column',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.TextInput, {\n        style: {\n          marginTop: 20,\n          height: 38,\n          width: WIDTH * 0.9,\n          borderColor: '#c1c1c1',\n          borderWidth: 1,\n          fontSize: _Theme.default.mediumSize,\n          paddingLeft: 6,\n          paddingRight: 6,\n          textAlign: _reactNative.I18nManager.isRTL ? 'right' : 'left',\n          color: _Theme.default.textColor\n        },\n        selectionColor: \"#51688F\",\n        placeholderTextColor: '#c0c0c0',\n        placeholder: this.props.isLoading.Config.languageJson2['First Name'],\n        onChangeText: function onChangeText(firstName) {\n          return _this2.setState({\n            firstName: firstName,\n            errorMessage: ''\n          });\n        },\n        value: this.state.firstName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }\n      }), _react.default.createElement(_reactNative.TextInput, {\n        style: {\n          marginTop: 20,\n          height: 38,\n          width: WIDTH * 0.9,\n          borderColor: '#c1c1c1',\n          borderWidth: 1,\n          fontSize: _Theme.default.mediumSize,\n          paddingLeft: 6,\n          paddingRight: 6,\n          textAlign: _reactNative.I18nManager.isRTL ? 'right' : 'left',\n          color: _Theme.default.textColor\n        },\n        selectionColor: \"#51688F\",\n        placeholderTextColor: '#c0c0c0',\n        placeholderTextColor: '#c0c0c0',\n        placeholder: this.props.isLoading.Config.languageJson2['Last Name'],\n        onChangeText: function onChangeText(lastName) {\n          return _this2.setState({\n            lastName: lastName,\n            errorMessage: ''\n          });\n        },\n        value: this.state.lastName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }\n      }), _react.default.createElement(_reactNative.TextInput, {\n        style: {\n          marginTop: 20,\n          height: 38,\n          width: WIDTH * 0.9,\n          borderColor: isEnabled ? '#c1c1c1' : 'red',\n          borderWidth: 1,\n          fontSize: _Theme.default.mediumSize,\n          paddingLeft: 6,\n          paddingRight: 6,\n          textAlign: _reactNative.I18nManager.isRTL ? 'right' : 'left',\n          color: _Theme.default.textColor\n        },\n        keyboardType: _reactNative.Platform.OS === 'ios' ? 'number-pad' : 'phone-pad',\n        selectionColor: \"#51688F\",\n        placeholder: this.props.isLoading.Config.languageJson2.Mobile,\n        onChangeText: function onChangeText(phone) {\n          return _this2.setState({\n            phone: phone,\n            errorMessage: ''\n          });\n        },\n        value: this.state.phone,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }\n      }), !isEnabled ? _react.default.createElement(_reactNative.Text, {\n        style: {\n          marginTop: 5,\n          color: 'red',\n          fontSize: _Theme.default.mediumSize,\n          alignSelf: 'flex-start'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 15\n        }\n      }, this.props.isLoading.Config.languageJson2['The phone number is not valid. No dashes or spaces']) : null, _react.default.createElement(_reactNative.TouchableOpacity, {\n        onPress: function onPress() {\n          return _this2.updateInfo(_this2);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: {\n          marginTop: 18,\n          alignItems: 'center',\n          height: 38,\n          width: WIDTH * 0.9,\n          backgroundColor: _Theme.default.otherBtnsColor,\n          justifyContent: 'center',\n          opacity: this.state.firstName === '' || this.state.lastName === '' || this.state.email === '' || this.state.password === '' === '' ? 0.4 : 0.9\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: {\n          textAlign: 'center',\n          color: _Theme.default.otherBtnsText,\n          fontSize: _Theme.default.mediumSize,\n          fontWeight: '500'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 17\n        }\n      }, this.props.isLoading.Config.languageJson2.Update))), this.state.errorMessage !== '' ? _react.default.createElement(_reactNative.Text, {\n        style: {\n          marginTop: 18,\n          color: this.state.success !== '1' ? 'red' : 'green'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 15\n        }\n      }, this.state.errorMessage) : null)));\n    }\n  }]);\n  return CreateAccount;\n}(_react.Component);\n\nCreateAccount.navigationOptions = function (_ref) {\n  var navigation = _ref.navigation;\n  var headerStyle = navigation.getParam('headerTitle');\n  return {\n    headerTitle: headerStyle,\n    headerRight: function headerRight() {\n      return _react.default.createElement(_ShoppingCartIcon.default, {\n        navigation: navigation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 26\n        }\n      });\n    },\n    cardStyleInterpolator: _reactNavigationStack.CardStyleInterpolators.forHorizontalIOS,\n    gestureEnabled: false,\n    drawerLockMode: 'locked-closed',\n    headerTitleAlign: 'center',\n    headerTintColor: _Theme.default.headerTintColor,\n    headerStyle: {\n      backgroundColor: _Theme.default.primary\n    },\n    headerTitleStyle: {\n      fontWeight: _reactNative.Platform.OS === 'android' ? 'bold' : 'normal'\n    },\n    headerForceInset: {\n      top: 'never',\n      vertical: 'never'\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isLoading: state\n  };\n};\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, null)(CreateAccount);\n\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/mysiew/Documents/eCommerce/codecanyon-xPJMYS8x-react-native-delivery-solution-with-advance-website-and-cms/SourceCode/vesend-consumer-app-master/src/screens/MyAccountScreen.js"],"names":["WIDTH","Dimensions","get","width","CreateAccount","props","navigation","setParams","headerTitle","isLoading","Config","languageJson2","updateInfo","t","reg","reg2","state","phoneNumber","phone","test","length","setState","errorMessage","success","canBeSubmitted","spinnerTemp","myAccountData","customers_firstname","firstName","customers_lastname","lastName","customers_telephone","customers_id","SyncStorage","password","UpdateCustomerData1","object","WooComFetch","postHttp","data","set","first_name","last_name","currentPassword","message","image_id","isEnabled","backgroundColor","themeStyle","flex","justifyContent","alignItems","flexDirection","marginTop","height","borderColor","borderWidth","fontSize","mediumSize","paddingLeft","paddingRight","textAlign","I18nManager","isRTL","color","textColor","Platform","OS","Mobile","alignSelf","otherBtnsColor","opacity","email","otherBtnsText","fontWeight","Update","Component","navigationOptions","headerStyle","getParam","headerRight","cardStyleInterpolator","CardStyleInterpolators","forHorizontalIOS","gestureEnabled","drawerLockMode","headerTitleAlign","headerTintColor","primary","headerTitleStyle","headerForceInset","top","vertical","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {\n  Text,\n  View,\n  TextInput,\n  TouchableOpacity,\n  Dimensions,\n  I18nManager,\n  Platform, ScrollView\n} from 'react-native'\nimport { CardStyleInterpolators } from 'react-navigation-stack'\nimport { NavigationEvents } from 'react-navigation'\nimport WooComFetch, { getUrl } from '../common/WooComFetch'\nimport { connect } from 'react-redux'\nimport SyncStorage from 'sync-storage'\nimport Spinner from 'react-native-loading-spinner-overlay'\nimport ShoppingCartIcon from '../common/ShoppingCartIcon'\nimport themeStyle from '../common/Theme.style'\nconst WIDTH = Dimensions.get('window').width\nclass CreateAccount extends Component {\n  /// /////////////////////////////////////////////////////////\n  static navigationOptions = ({ navigation }) => {\n    const headerStyle = navigation.getParam('headerTitle')\n    return {\n      headerTitle: headerStyle,\n      headerRight: () => <ShoppingCartIcon navigation={navigation} />,\n      cardStyleInterpolator: CardStyleInterpolators.forHorizontalIOS,\n      gestureEnabled: false,\n      drawerLockMode: 'locked-closed',\n      headerTitleAlign: 'center',\n      headerTintColor: themeStyle.headerTintColor,\n      headerStyle: {\n        backgroundColor: themeStyle.primary\n      },\n      headerTitleStyle: {\n        fontWeight: Platform.OS === 'android' ? 'bold' : 'normal'\n      },\n      headerForceInset: { top: 'never', vertical: 'never' }\n    }\n  }\n\n  /// /////////////////////////////////////////////////////////\n  componentDidMount () {\n    this.props.navigation.setParams({\n      headerTitle: this.props.isLoading.Config.languageJson2['Edit Profile']\n    })\n  }\n\n  /// //////////////////////////////////////////////////////////\n  constructor (props) {\n    super(props)\n    this.state = {\n      myAccountData: {},\n      firstName: SyncStorage.get('customerData').customers_firstname,\n      lastName: SyncStorage.get('customerData').customers_lastname,\n      errorMessage: '',\n      spinnerTemp: false,\n      phone: SyncStorage.get('customerData').phone,\n      phoneNumber: '',\n      currentPassword: '',\n      password: '',\n      success: '',\n      customers_id: '',\n      image_id: 0,\n      customers_telephone: ''\n    }\n  }\n\n  canBeSubmitted () {\n    const reg = /^(\\+601)[0-9]{8,9}$/\n    const { phone } = this.state\n    return (\n      (phone.length >= 12 || phone.length === 0) && (phone.length === 0 || reg.test(phone))\n    )\n  }\n\n  /// ///////////////////////////////////////////////////\n  updateInfo = t => {\n    const reg = /^[0-9]{10,11}$/\n    const reg2 = /^(\\+601)[0-9]{8,9}$/\n    this.state.phoneNumber = this.state.phone\n    if (reg2.test(this.state.phoneNumber) !== true) {\n      if ((this.state.phoneNumber.length !== 0) && (reg.test(this.state.phoneNumber) === true)) {\n        this.state.phone = '+6' + this.state.phoneNumber\n      }\n    }\n    if (reg2.test(this.state.phone) === false) {\n      t.setState({\n        errorMessage: this.props.isLoading.Config.languageJson2['The phone number is not valid. No dashes or spaces'],\n        success: '0'\n      })\n      return\n    }\n\n    if (!this.canBeSubmitted()) {\n      t.setState({\n        errorMessage: this.props.isLoading.Config.languageJson2['The phone number is not valid in length'],\n        success: '0'\n      })\n      return\n    }\n    t.setState({ spinnerTemp: true })\n\n    t.state.myAccountData.customers_firstname = t.state.firstName\n    t.state.myAccountData.customers_lastname = t.state.lastName\n    t.state.myAccountData.customers_telephone = t.state.phone\n    t.state.myAccountData.customers_id = SyncStorage.get(\n      'customerData'\n    ).customers_id\n    if (t.state.password != '') { t.state.myAccountData.password = t.state.password }\n    t.UpdateCustomerData1(\n      t.state.myAccountData\n    )\n  }\n\n  /// ///////////////////////////////////////////////////\n  UpdateCustomerData1 = async (object) => {\n    const data = await WooComFetch.postHttp(\n      getUrl() + '/api/' + 'updatecustomerinfo',\n      object\n    )\n    if (data.data.success === '1') {\n      SyncStorage.set('customerData', Object.assign(SyncStorage.get('customerData'),\n        {\n          first_name: this.state.firstName,\n          last_name: this.state.lastName,\n          phone: this.state.phone,\n          customers_telephone: this.state.phone\n        }))\n    }\n    this.setState({\n      spinnerTemp: false,\n      currentPassword: '',\n      password: '',\n      errorMessage: data.data.message,\n      success: data.data.success\n    })\n  }\n\n  /// //////\n  render () {\n    const isEnabled = this.canBeSubmitted()\n    return (\n      <ScrollView style={{ backgroundColor: themeStyle.backgroundColor }}>\n        <View\n          style={{\n            flex: 1,\n            backgroundColor: themeStyle.backgroundColor,\n\n            justifyContent: 'center',\n            alignItems: 'center'\n          }}>\n          <Spinner\n            visible={this.state.spinnerTemp}\n          />\n          <NavigationEvents\n            onDidFocus={() => {\n              this.state.firstName = SyncStorage.get('customerData').first_name\n              this.state.lastName = SyncStorage.get('customerData').last_name\n              this.state.phone = SyncStorage.get('customerData').phone\n              this.setState({})\n            }}\n          />\n          <View\n            style={{\n              flex: 1,\n              flexDirection: 'column',\n              justifyContent: 'center',\n              alignItems: 'center'\n            }}>\n            <TextInput\n              style={{\n                marginTop: 20,\n                height: 38,\n                width: WIDTH * 0.9,\n                borderColor: '#c1c1c1',\n                borderWidth: 1,\n                fontSize: themeStyle.mediumSize,\n                paddingLeft: 6,\n                paddingRight: 6,\n                textAlign: I18nManager.isRTL ? 'right' : 'left',\n                color: themeStyle.textColor\n              }}\n              selectionColor='#51688F'\n              placeholderTextColor={'#c0c0c0'}\n              placeholder={\n                this.props.isLoading.Config.languageJson2['First Name']\n              }\n              onChangeText={firstName =>\n                this.setState({ firstName, errorMessage: '' })\n              }\n              value={this.state.firstName}\n            />\n            <TextInput\n              style={{\n                marginTop: 20,\n                height: 38,\n                width: WIDTH * 0.9,\n                borderColor: '#c1c1c1',\n                borderWidth: 1,\n                fontSize: themeStyle.mediumSize,\n                paddingLeft: 6,\n                paddingRight: 6,\n                textAlign: I18nManager.isRTL ? 'right' : 'left',\n                color: themeStyle.textColor\n              }}\n              selectionColor='#51688F'\n              placeholderTextColor={'#c0c0c0'}\n              placeholderTextColor={'#c0c0c0'}\n              placeholder={\n                this.props.isLoading.Config.languageJson2['Last Name']\n              }\n              onChangeText={lastName =>\n                this.setState({ lastName, errorMessage: '' })\n              }\n              value={this.state.lastName}\n            />\n            <TextInput\n              style={{\n                marginTop: 20,\n                height: 38,\n                width: WIDTH * 0.9,\n                borderColor: isEnabled ? '#c1c1c1' : 'red',\n                borderWidth: 1,\n                fontSize: themeStyle.mediumSize,\n                paddingLeft: 6,\n                paddingRight: 6,\n                textAlign: I18nManager.isRTL ? 'right' : 'left',\n                color: themeStyle.textColor\n              }}\n              keyboardType={Platform.OS === 'ios' ? 'number-pad' : 'phone-pad'}\n              selectionColor='#51688F'\n              placeholder={this.props.isLoading.Config.languageJson2.Mobile}\n              onChangeText={phone => this.setState({ phone, errorMessage: '' })}\n              value={this.state.phone}\n            />\n            {!isEnabled ? (\n              <Text\n                style={{\n                  marginTop: 5,\n                  color: 'red',\n                  fontSize: themeStyle.mediumSize,\n                  alignSelf: 'flex-start'\n                }}>\n                {this.props.isLoading.Config.languageJson2['The phone number is not valid. No dashes or spaces']}\n              </Text>\n            ) : null}\n            <TouchableOpacity onPress={() => this.updateInfo(this)}>\n              <View\n                style={{\n                  marginTop: 18,\n                  alignItems: 'center',\n                  height: 38,\n                  width: WIDTH * 0.9,\n                  backgroundColor: themeStyle.otherBtnsColor,\n                  justifyContent: 'center',\n                  opacity:\n                    this.state.firstName === '' ||\n                    this.state.lastName === '' ||\n                    this.state.email === '' ||\n                    (this.state.password === '') === ''\n                      ? 0.4\n                      : 0.9\n                }}>\n                <Text\n                  style={{\n                    textAlign: 'center',\n                    color: themeStyle.otherBtnsText,\n                    fontSize: themeStyle.mediumSize,\n                    fontWeight: '500'\n                  }}>\n                  {this.props.isLoading.Config.languageJson2.Update}\n                </Text>\n              </View>\n            </TouchableOpacity>\n\n            {this.state.errorMessage !== '' ? (\n              <Text\n                style={{\n                  marginTop: 18,\n                  color: this.state.success !== '1' ? 'red' : 'green'\n                }}>\n                {this.state.errorMessage}\n              </Text>\n            ) : null}\n\n          </View>\n        </View>\n      </ScrollView>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  isLoading: state\n})\n\nexport default connect(mapStateToProps, null)(CreateAccount)\n"]},"metadata":{},"sourceType":"script"}