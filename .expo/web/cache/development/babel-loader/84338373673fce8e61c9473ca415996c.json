{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _BottomNav = _interopRequireDefault(require(\"../common/BottomNav\"));\n\nvar _CardTemplate = _interopRequireDefault(require(\"../common/CardTemplate\"));\n\nvar _reactNativeIndicators = require(\"react-native-indicators\");\n\nvar _reactNavigationStack = require(\"react-navigation-stack\");\n\nvar _reactNavigation = require(\"react-navigation\");\n\nvar _syncStorage = _interopRequireDefault(require(\"sync-storage\"));\n\nvar _Categories = _interopRequireDefault(require(\"../common/Categories3\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _WooComFetch = _interopRequireWildcard(require(\"../common/WooComFetch\"));\n\nvar _nativeBase = require(\"native-base\");\n\nvar _reactNativeLoadingSpinnerOverlay = _interopRequireDefault(require(\"react-native-loading-spinner-overlay\"));\n\nvar _reactNativeEasyToast = _interopRequireDefault(require(\"react-native-easy-toast\"));\n\nvar _Theme = _interopRequireDefault(require(\"../common/Theme.style\"));\n\nvar _ShoppingCartIcon = _interopRequireDefault(require(\"../common/ShoppingCartIcon\"));\n\nvar _jsxFileName = \"C:\\\\Users\\\\mysiew\\\\Documents\\\\eCommerce\\\\codecanyon-xPJMYS8x-react-native-delivery-solution-with-advance-website-and-cms\\\\SourceCode\\\\vesend-consumer-app-master\\\\src\\\\screens\\\\SearchScreen.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar WIDTH = _reactNative.Dimensions.get('window').width;\n\nvar SearchScreen = function (_Component) {\n  (0, _inherits2.default)(SearchScreen, _Component);\n\n  var _super = _createSuper(SearchScreen);\n\n  function SearchScreen(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, SearchScreen);\n    _this = _super.call(this, props);\n\n    _this.openSubCategories = function (parent, name) {\n      _this.props.navigation.navigate('NewestScreen', {\n        id: parent.id,\n        name: name,\n        sortOrder: 'newest'\n      });\n    };\n\n    _this.getSearchData = function _callee() {\n      var json;\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n\n              _this.setState({\n                spinnerTemp: true\n              });\n\n              if (!(_this.state.text !== undefined)) {\n                _context.next = 9;\n                break;\n              }\n\n              if (!(_this.state.text === null || _this.state.text === '')) {\n                _context.next = 7;\n                break;\n              }\n\n              _this.refs.toast.show('Please enter some text');\n\n              _this.setState({\n                spinnerTemp: false\n              });\n\n              return _context.abrupt(\"return\");\n\n            case 7:\n              _context.next = 11;\n              break;\n\n            case 9:\n              _this.setState({\n                spinnerTemp: false\n              });\n\n              return _context.abrupt(\"return\");\n\n            case 11:\n              _context.next = 13;\n              return _regenerator.default.awrap(_WooComFetch.default.postHttp((0, _WooComFetch.getUrl)() + '/api/' + 'getsearchdata', {\n                searchValue: _this.state.text,\n                language_id: _syncStorage.default.get('langId'),\n                currency_code: _this.props.isLoading.Config.productsArguments.currency\n              }));\n\n            case 13:\n              json = _context.sent;\n\n              if (json.data.success === '0') {\n                _this.refs.toast.show('No Product found!');\n              }\n\n              json.data.product_data.products.map(function (val, key) {\n                var temp = [];\n                temp[0] = val.products_image;\n                json.data.product_data.products[key].products_image = temp;\n              });\n\n              _this.setState({\n                arrayholderHeader: json.data.product_data.products,\n                spinnerTemp: false\n              });\n\n              _context.next = 22;\n              break;\n\n            case 19:\n              _context.prev = 19;\n              _context.t0 = _context[\"catch\"](0);\n\n              _this.setState({\n                spinnerTemp: false\n              });\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 19]], Promise);\n    };\n\n    _this.renderItem = function (item, index) {\n      return _react.default.createElement(_CardTemplate.default, {\n        objectArray: item.item,\n        index: index,\n        cardStyle: 101,\n        addToCart: false,\n        width: WIDTH,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 5\n        }\n      });\n    };\n\n    _this.renderSeparator = function () {\n      return _react.default.createElement(_reactNative.View, {\n        style: {\n          height: 1,\n          width: '100%',\n          backgroundColor: '#ddd'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 5\n        }\n      });\n    };\n\n    _this.state = {\n      isLoading: true,\n      text: '',\n      arrayholder: [],\n      arrayholderHeader: [],\n      spinnerTemp: false\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(SearchScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.navigation.setParams({\n        headerTitle: this.props.isLoading.Config.languageJson2.Search\n      });\n      this.setState({\n        isLoading: false,\n        dataSource: this.props.isLoading.cartItems.allCategories\n      }, function () {\n        this.setState({\n          arrayholder: this.props.isLoading.cartItems.allCategories\n        });\n      });\n    }\n  }, {\n    key: \"GetListViewItem\",\n    value: function GetListViewItem(name) {\n      this.setState({\n        text: name\n      });\n      this.props.navigation.state.params.onGoBack(name, this.props.navigation.state.params.onSelectionBase);\n      this.props.navigation.goBack();\n    }\n  }, {\n    key: \"SearchFilterFunction\",\n    value: function SearchFilterFunction(text) {\n      this.setState({\n        text: text\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.state.isLoading) {\n        return _react.default.createElement(_reactNative.View, {\n          style: {\n            flex: 1,\n            paddingTop: 20,\n            backgroundColor: _Theme.default.backgroundColor\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 9\n          }\n        }, _react.default.createElement(_reactNativeIndicators.UIActivityIndicator, {\n          color: _Theme.default.loadingIndicatorColor,\n          size: 27,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 11\n          }\n        }));\n      }\n\n      return _react.default.createElement(_reactNative.View, {\n        style: {\n          justifyContent: 'center',\n          flex: 1,\n          backgroundColor: _Theme.default.backgroundColor,\n          paddingBottom: _syncStorage.default.get('bottom') ? 50 : 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNativeLoadingSpinnerOverlay.default, {\n        visible: this.state.spinnerTemp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 9\n        }\n      }), _react.default.createElement(_reactNavigation.NavigationEvents, {\n        onDidFocus: function onDidFocus() {\n          _this2.setState({});\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 9\n        }\n      }), _syncStorage.default.get('bottom') ? _react.default.createElement(_BottomNav.default, {\n        active: 1,\n        home: this.props.isLoading.Config.homePage === 1 ? 'Home1Screen' : this.props.isLoading.Config.homePage === 2 ? 'Home2Screen' : this.props.isLoading.Config.homePage === 3 ? 'Home3Screen' : this.props.isLoading.Config.homePage === 4 ? 'Home4Screen' : this.props.isLoading.Config.homePage === 5 ? 'Home5Screen' : this.props.isLoading.Config.homePage === 6 ? 'Home6Screen' : this.props.isLoading.Config.homePage === 7 ? 'Home7Screen' : this.props.isLoading.Config.homePage === 8 ? 'Home8Screen' : this.props.isLoading.Config.homePage === 9 ? 'Home9Screen' : 'Home10Screen',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }\n      }) : null, _react.default.createElement(_reactNativeEasyToast.default, {\n        ref: \"toast\",\n        style: {\n          backgroundColor: '#c1c1c1'\n        },\n        position: \"bottom\",\n        positionValue: 200,\n        fadeOutDuration: 7000,\n        textStyle: {\n          color: _Theme.default.textColor,\n          fontSize: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 9\n        }\n      }), _react.default.createElement(_reactNative.View, {\n        style: {\n          flexDirection: 'row',\n          textAlign: 'center',\n          height: 40,\n          margin: 7,\n          marginBottom: -3,\n          backgroundColor: _Theme.default.backgroundColor,\n          shadowOffset: {\n            width: 1,\n            height: 1\n          },\n          shadowColor: '#000',\n          shadowOpacity: 0.5,\n          elevation: 5,\n          borderWidth: 1,\n          borderColor: _Theme.default.primaryContrast\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_nativeBase.Icon, {\n        name: 'search',\n        style: {\n          color: 'gray',\n          fontSize: 22,\n          margin: 7,\n          marginLeft: 15,\n          marginRight: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }\n      }), _react.default.createElement(_reactNative.TextInput, {\n        style: ({\n          height: 40,\n          backgroundColor: _Theme.default.backgroundColor,\n          padding: 10,\n          width: WIDTH - 61\n        }, {\n          textAlign: this.state.text === '' ? _reactNative.I18nManager.isRTL ? 'right' : 'left' : 'auto',\n          width: WIDTH,\n          color: _Theme.default.textColor\n        }),\n        placeholderTextColor: _Theme.default.textColor,\n        onChangeText: function onChangeText(text) {\n          return _this2.SearchFilterFunction(text);\n        },\n        value: this.state.text,\n        underlineColorAndroid: \"transparent\",\n        placeholder: \"Search\",\n        returnKeyType: 'search',\n        onSubmitEditing: function onSubmitEditing() {\n          return _this2.getSearchData();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }\n      })), _react.default.createElement(_reactNative.FlatList, {\n        data: this.state.dataSource,\n        extraData: this.state,\n        listKey: 'products',\n        showsVerticalScrollIndicator: false,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        ItemSeparatorComponent: this.renderSeparator,\n        renderItem: function renderItem(item) {\n          return _react.default.createElement(_Categories.default, {\n            item: item.item,\n            id: item.index,\n            products: _this2.props.isLoading.Config.languageJson2.Products,\n            image: item.item.image === null ? '' : item.item.image.src,\n            openSubCategories: function openSubCategories(t, n) {\n              return _this2.openSubCategories(t, n);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 13\n            }\n          });\n        },\n        ListHeaderComponent: _react.default.createElement(_reactNative.FlatList, {\n          style: {\n            marginBottom: 1\n          },\n          contentContainerStyle: {\n            flex: 1\n          },\n          data: this.state.arrayholderHeader,\n          renderItem: this.renderItem,\n          extraData: this.state,\n          keyExtractor: function keyExtractor(item, index) {\n            return index.toString();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }\n        }),\n        enableEmptySections: true,\n        style: {\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n  return SearchScreen;\n}(_react.Component);\n\nSearchScreen.navigationOptions = function (_ref) {\n  var navigation = _ref.navigation;\n  var headerStyle = navigation.getParam('headerTitle');\n  return {\n    headerTitle: headerStyle,\n    cardStyleInterpolator: _reactNavigationStack.CardStyleInterpolators.forHorizontalIOS,\n    headerRight: function headerRight() {\n      return _react.default.createElement(_ShoppingCartIcon.default, {\n        navigation: navigation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 26\n        }\n      });\n    },\n    headerTitleAlign: 'center',\n    headerTintColor: _Theme.default.headerTintColor,\n    headerStyle: {\n      backgroundColor: _Theme.default.primary\n    },\n    headerTitleStyle: {\n      fontWeight: _reactNative.Platform.OS === 'android' ? 'bold' : 'normal'\n    },\n    headerForceInset: {\n      top: 'never',\n      vertical: 'never'\n    },\n    gestureEnabled: true\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isLoading: state\n  };\n};\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, null)(SearchScreen);\n\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/mysiew/Documents/eCommerce/codecanyon-xPJMYS8x-react-native-delivery-solution-with-advance-website-and-cms/SourceCode/vesend-consumer-app-master/src/screens/SearchScreen.js"],"names":["WIDTH","Dimensions","get","width","SearchScreen","props","openSubCategories","parent","name","navigation","navigate","id","sortOrder","getSearchData","setState","spinnerTemp","state","text","undefined","refs","toast","show","WooComFetch","postHttp","searchValue","language_id","SyncStorage","currency_code","isLoading","Config","productsArguments","currency","json","data","success","product_data","products","map","val","key","temp","products_image","arrayholderHeader","renderItem","item","index","renderSeparator","height","backgroundColor","arrayholder","setParams","headerTitle","languageJson2","Search","dataSource","cartItems","allCategories","params","onGoBack","onSelectionBase","goBack","flex","paddingTop","themeStyle","loadingIndicatorColor","justifyContent","paddingBottom","homePage","color","textColor","fontSize","flexDirection","textAlign","margin","marginBottom","shadowOffset","shadowColor","shadowOpacity","elevation","borderWidth","borderColor","primaryContrast","marginLeft","marginRight","padding","I18nManager","isRTL","SearchFilterFunction","toString","Products","image","src","t","n","marginTop","Component","navigationOptions","headerStyle","getParam","cardStyleInterpolator","CardStyleInterpolators","forHorizontalIOS","headerRight","headerTitleAlign","headerTintColor","primary","headerTitleStyle","fontWeight","Platform","OS","headerForceInset","top","vertical","gestureEnabled","mapStateToProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAQA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AACA,IAAMA,KAAK,GAAGC,wBAAWC,GAAX,CAAe,QAAf,EAAyBC,KAAvC;;IACMC,Y;;;;;AAoBJ,wBAAaC,KAAb,EAAoB;AAAA;;AAAA;AAClB,8BAAMA,KAAN;;AADkB,UA4BpBC,iBA5BoB,GA4BA,UAACC,MAAD,EAASC,IAAT,EAAkB;AACpC,YAAKH,KAAL,CAAWI,UAAX,CAAsBC,QAAtB,CAA+B,cAA/B,EAA+C;AAC7CC,QAAAA,EAAE,EAAEJ,MAAM,CAACI,EADkC;AAE7CH,QAAAA,IAAI,EAAJA,IAF6C;AAG7CI,QAAAA,SAAS,EAAE;AAHkC,OAA/C;AAKD,KAlCmB;;AAAA,UAmDpBC,aAnDoB,GAmDJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEZ,oBAAKC,QAAL,CAAc;AAAEC,gBAAAA,WAAW,EAAE;AAAf,eAAd;;AAFY,oBAGR,MAAKC,KAAL,CAAWC,IAAX,KAAoBC,SAHZ;AAAA;AAAA;AAAA;;AAAA,oBAIN,MAAKF,KAAL,CAAWC,IAAX,KAAoB,IAApB,IAA4B,MAAKD,KAAL,CAAWC,IAAX,KAAoB,EAJ1C;AAAA;AAAA;AAAA;;AAKR,oBAAKE,IAAL,CAAUC,KAAV,CAAgBC,IAAhB,CAAqB,wBAArB;;AACA,oBAAKP,QAAL,CAAc;AAAEC,gBAAAA,WAAW,EAAE;AAAf,eAAd;;AANQ;;AAAA;AAAA;AAAA;;AAAA;AAUV,oBAAKD,QAAL,CAAc;AAAEC,gBAAAA,WAAW,EAAE;AAAf,eAAd;;AAVU;;AAAA;AAAA;AAAA,gDAaOO,qBAAYC,QAAZ,CACjB,6BAAW,OAAX,GAAqB,eADJ,EAEjB;AACEC,gBAAAA,WAAW,EAAE,MAAKR,KAAL,CAAWC,IAD1B;AAEEQ,gBAAAA,WAAW,EAAEC,qBAAYxB,GAAZ,CAAgB,QAAhB,CAFf;AAGEyB,gBAAAA,aAAa,EAAE,MAAKtB,KAAL,CAAWuB,SAAX,CAAqBC,MAArB,CAA4BC,iBAA5B,CAA8CC;AAH/D,eAFiB,CAbP;;AAAA;AAaNC,cAAAA,IAbM;;AAsBZ,kBAAIA,IAAI,CAACC,IAAL,CAAUC,OAAV,KAAsB,GAA1B,EAA+B;AAC7B,sBAAKf,IAAL,CAAUC,KAAV,CAAgBC,IAAhB,CAAqB,mBAArB;AACD;;AACDW,cAAAA,IAAI,CAACC,IAAL,CAAUE,YAAV,CAAuBC,QAAvB,CAAgCC,GAAhC,CAAoC,UAACC,GAAD,EAAMC,GAAN,EAAc;AAChD,oBAAMC,IAAI,GAAG,EAAb;AACAA,gBAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUF,GAAG,CAACG,cAAd;AACAT,gBAAAA,IAAI,CAACC,IAAL,CAAUE,YAAV,CAAuBC,QAAvB,CAAgCG,GAAhC,EAAqCE,cAArC,GAAsDD,IAAtD;AACD,eAJD;;AAMA,oBAAK1B,QAAL,CAAc;AACZ4B,gBAAAA,iBAAiB,EAAEV,IAAI,CAACC,IAAL,CAAUE,YAAV,CAAuBC,QAD9B;AAEZrB,gBAAAA,WAAW,EAAE;AAFD,eAAd;;AA/BY;AAAA;;AAAA;AAAA;AAAA;;AAoCZ,oBAAKD,QAAL,CAAc;AAAEC,gBAAAA,WAAW,EAAE;AAAf,eAAd;;AApCY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAnDI;;AAAA,UA2FpB4B,UA3FoB,GA2FP,UAACC,IAAD,EAAOC,KAAP;AAAA,aACX,6BAAC,qBAAD;AACE,QAAA,WAAW,EAAED,IAAI,CAACA,IADpB;AAEE,QAAA,KAAK,EAAEC,KAFT;AAGE,QAAA,SAAS,EAAE,GAHb;AAIE,QAAA,SAAS,EAAE,KAJb;AAKE,QAAA,KAAK,EAAE7C,KALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADW;AAAA,KA3FO;;AAAA,UAqGpB8C,eArGoB,GAqGF;AAAA,aAChB,6BAAC,iBAAD;AAAM,QAAA,KAAK,EAAE;AAAEC,UAAAA,MAAM,EAAE,CAAV;AAAa5C,UAAAA,KAAK,EAAE,MAApB;AAA4B6C,UAAAA,eAAe,EAAE;AAA7C,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADgB;AAAA,KArGE;;AAElB,UAAKhC,KAAL,GAAa;AACXY,MAAAA,SAAS,EAAE,IADA;AAEXX,MAAAA,IAAI,EAAE,EAFK;AAGXgC,MAAAA,WAAW,EAAE,EAHF;AAIXP,MAAAA,iBAAiB,EAAE,EAJR;AAKX3B,MAAAA,WAAW,EAAE;AALF,KAAb;AAFkB;AASnB;;;;wCAEoB;AACnB,WAAKV,KAAL,CAAWI,UAAX,CAAsByC,SAAtB,CAAgC;AAC9BC,QAAAA,WAAW,EAAE,KAAK9C,KAAL,CAAWuB,SAAX,CAAqBC,MAArB,CAA4BuB,aAA5B,CAA0CC;AADzB,OAAhC;AAGA,WAAKvC,QAAL,CACE;AACEc,QAAAA,SAAS,EAAE,KADb;AAEE0B,QAAAA,UAAU,EAAE,KAAKjD,KAAL,CAAWuB,SAAX,CAAqB2B,SAArB,CAA+BC;AAF7C,OADF,EAKE,YAAY;AACV,aAAK1C,QAAL,CAAc;AACZmC,UAAAA,WAAW,EAAE,KAAK5C,KAAL,CAAWuB,SAAX,CAAqB2B,SAArB,CAA+BC;AADhC,SAAd;AAGD,OATH;AAWD;;;oCAUgBhD,I,EAAM;AACrB,WAAKM,QAAL,CAAc;AAAEG,QAAAA,IAAI,EAAET;AAAR,OAAd;AACA,WAAKH,KAAL,CAAWI,UAAX,CAAsBO,KAAtB,CAA4ByC,MAA5B,CAAmCC,QAAnC,CACElD,IADF,EAEE,KAAKH,KAAL,CAAWI,UAAX,CAAsBO,KAAtB,CAA4ByC,MAA5B,CAAmCE,eAFrC;AAIA,WAAKtD,KAAL,CAAWI,UAAX,CAAsBmD,MAAtB;AACD;;;yCAEqB3C,I,EAAM;AAC1B,WAAKH,QAAL,CAAc;AACZG,QAAAA,IAAI,EAAJA;AADY,OAAd;AAGD;;;6BAwDS;AAAA;;AACR,UAAI,KAAKD,KAAL,CAAWY,SAAf,EAA0B;AACxB,eACE,6BAAC,iBAAD;AAAM,UAAA,KAAK,EAAE;AACXiC,YAAAA,IAAI,EAAE,CADK;AAEXC,YAAAA,UAAU,EAAE,EAFD;AAGXd,YAAAA,eAAe,EAAEe,eAAWf;AAHjB,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAKE,6BAAC,0CAAD;AACE,UAAA,KAAK,EAAEe,eAAWC,qBADpB;AAEE,UAAA,IAAI,EAAE,EAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UALF,CADF;AAYD;;AACD,aACE,6BAAC,iBAAD;AAAM,QAAA,KAAK,EAAE;AACXC,UAAAA,cAAc,EAAE,QADL;AAEXJ,UAAAA,IAAI,EAAE,CAFK;AAGXb,UAAAA,eAAe,EAAEe,eAAWf,eAHjB;AAIXkB,UAAAA,aAAa,EAAExC,qBAAYxB,GAAZ,CAAgB,QAAhB,IAA4B,EAA5B,GAAiC;AAJrC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAME,6BAAC,yCAAD;AACE,QAAA,OAAO,EAAE,KAAKc,KAAL,CAAWD,WADtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,EASE,6BAAC,iCAAD;AACE,QAAA,UAAU,EAAE,sBAAM;AAChB,UAAA,MAAI,CAACD,QAAL,CAAc,EAAd;AACD,SAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,EAcGY,qBAAYxB,GAAZ,CAAgB,QAAhB,IACG,6BAAC,kBAAD;AAAW,QAAA,MAAM,EAAE,CAAnB;AAAsB,QAAA,IAAI,EAC1B,KAAKG,KAAL,CAAWuB,SAAX,CAAqBC,MAArB,CAA4BsC,QAA5B,KAAyC,CAAzC,GACI,aADJ,GACoB,KAAK9D,KAAL,CAAWuB,SAAX,CAAqBC,MAArB,CAA4BsC,QAA5B,KAAyC,CAAzC,GACd,aADc,GACE,KAAK9D,KAAL,CAAWuB,SAAX,CAAqBC,MAArB,CAA4BsC,QAA5B,KAAyC,CAAzC,GACd,aADc,GACE,KAAK9D,KAAL,CAAWuB,SAAX,CAAqBC,MAArB,CAA4BsC,QAA5B,KAAyC,CAAzC,GACd,aADc,GACE,KAAK9D,KAAL,CAAWuB,SAAX,CAAqBC,MAArB,CAA4BsC,QAA5B,KAAyC,CAAzC,GACd,aADc,GACE,KAAK9D,KAAL,CAAWuB,SAAX,CAAqBC,MAArB,CAA4BsC,QAA5B,KAAyC,CAAzC,GACd,aADc,GACE,KAAK9D,KAAL,CAAWuB,SAAX,CAAqBC,MAArB,CAA4BsC,QAA5B,KAAyC,CAAzC,GACd,aADc,GACE,KAAK9D,KAAL,CAAWuB,SAAX,CAAqBC,MAArB,CAA4BsC,QAA5B,KAAyC,CAAzC,GACd,aADc,GACE,KAAK9D,KAAL,CAAWuB,SAAX,CAAqBC,MAArB,CAA4BsC,QAA5B,KAAyC,CAAzC,GACd,aADc,GACE,cAVpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADH,GAYG,IA1BN,EA4BE,6BAAC,6BAAD;AACE,QAAA,GAAG,EAAC,OADN;AAEE,QAAA,KAAK,EAAE;AAAEnB,UAAAA,eAAe,EAAE;AAAnB,SAFT;AAGE,QAAA,QAAQ,EAAC,QAHX;AAIE,QAAA,aAAa,EAAE,GAJjB;AAKE,QAAA,eAAe,EAAE,IALnB;AAME,QAAA,SAAS,EAAE;AAAEoB,UAAAA,KAAK,EAAEL,eAAWM,SAApB;AAA+BC,UAAAA,QAAQ,EAAE;AAAzC,SANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5BF,EAoCE,6BAAC,iBAAD;AAAM,QAAA,KAAK,EAAE;AACXC,UAAAA,aAAa,EAAE,KADJ;AAEXC,UAAAA,SAAS,EAAE,QAFA;AAGXzB,UAAAA,MAAM,EAAE,EAHG;AAIX0B,UAAAA,MAAM,EAAE,CAJG;AAKXC,UAAAA,YAAY,EAAE,CAAC,CALJ;AAMX1B,UAAAA,eAAe,EAAEe,eAAWf,eANjB;AAOX2B,UAAAA,YAAY,EAAE;AAAExE,YAAAA,KAAK,EAAE,CAAT;AAAY4C,YAAAA,MAAM,EAAE;AAApB,WAPH;AAQX6B,UAAAA,WAAW,EAAE,MARF;AASXC,UAAAA,aAAa,EAAE,GATJ;AAUXC,UAAAA,SAAS,EAAE,CAVA;AAWXC,UAAAA,WAAW,EAAE,CAXF;AAYXC,UAAAA,WAAW,EAAEjB,eAAWkB;AAZb,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAcE,6BAAC,gBAAD;AACE,QAAA,IAAI,EAAE,QADR;AAEE,QAAA,KAAK,EAAE;AACLb,UAAAA,KAAK,EAAE,MADF;AAELE,UAAAA,QAAQ,EAAE,EAFL;AAGLG,UAAAA,MAAM,EAAE,CAHH;AAILS,UAAAA,UAAU,EAAE,EAJP;AAKLC,UAAAA,WAAW,EAAE;AALR,SAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAdF,EAwBE,6BAAC,sBAAD;AACE,QAAA,KAAK,GACF;AACCpC,UAAAA,MAAM,EAAE,EADT;AAECC,UAAAA,eAAe,EAAEe,eAAWf,eAF7B;AAGCoC,UAAAA,OAAO,EAAE,EAHV;AAICjF,UAAAA,KAAK,EAAEH,KAAK,GAAG;AAJhB,WAMD;AACEwE,UAAAA,SAAS,EACP,KAAKxD,KAAL,CAAWC,IAAX,KAAoB,EAApB,GACIoE,yBAAYC,KAAZ,GACE,OADF,GAEE,MAHN,GAII,MANR;AAOEnF,UAAAA,KAAK,EAAEH,KAPT;AAQEoE,UAAAA,KAAK,EAAEL,eAAWM;AARpB,SAPG,CADP;AAmBE,QAAA,oBAAoB,EAAEN,eAAWM,SAnBnC;AAoBE,QAAA,YAAY,EAAE,sBAAApD,IAAI;AAAA,iBAAI,MAAI,CAACsE,oBAAL,CAA0BtE,IAA1B,CAAJ;AAAA,SApBpB;AAqBE,QAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,IArBpB;AAsBE,QAAA,qBAAqB,EAAC,aAtBxB;AAuBE,QAAA,WAAW,EAAC,QAvBd;AAwBE,QAAA,aAAa,EAAE,QAxBjB;AAyBE,QAAA,eAAe,EAAE;AAAA,iBAAM,MAAI,CAACJ,aAAL,EAAN;AAAA,SAzBnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAxBF,CApCF,EAwFE,6BAAC,qBAAD;AACE,QAAA,IAAI,EAAE,KAAKG,KAAL,CAAWsC,UADnB;AAEE,QAAA,SAAS,EAAE,KAAKtC,KAFlB;AAGE,QAAA,OAAO,EAAE,UAHX;AAIE,QAAA,4BAA4B,EAAE,KAJhC;AAKE,QAAA,YAAY,EAAE,sBAAC4B,IAAD,EAAOC,KAAP;AAAA,iBAAiBA,KAAK,CAAC2C,QAAN,EAAjB;AAAA,SALhB;AAME,QAAA,sBAAsB,EAAE,KAAK1C,eAN/B;AAOE,QAAA,UAAU,EAAE,oBAAAF,IAAI;AAAA,iBACd,6BAAC,mBAAD;AACE,YAAA,IAAI,EAAEA,IAAI,CAACA,IADb;AAEE,YAAA,EAAE,EAAEA,IAAI,CAACC,KAFX;AAGE,YAAA,QAAQ,EAAE,MAAI,CAACxC,KAAL,CAAWuB,SAAX,CAAqBC,MAArB,CAA4BuB,aAA5B,CAA0CqC,QAHtD;AAIE,YAAA,KAAK,EAAE7C,IAAI,CAACA,IAAL,CAAU8C,KAAV,KAAoB,IAApB,GAA2B,EAA3B,GAAgC9C,IAAI,CAACA,IAAL,CAAU8C,KAAV,CAAgBC,GAJzD;AAKE,YAAA,iBAAiB,EAAE,2BAACC,CAAD,EAAIC,CAAJ;AAAA,qBAAU,MAAI,CAACvF,iBAAL,CAAuBsF,CAAvB,EAA0BC,CAA1B,CAAV;AAAA,aALrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADc;AAAA,SAPlB;AAgBE,QAAA,mBAAmB,EACjB,6BAAC,qBAAD;AACE,UAAA,KAAK,EAAE;AAAEnB,YAAAA,YAAY,EAAE;AAAhB,WADT;AAEE,UAAA,qBAAqB,EAAE;AAAEb,YAAAA,IAAI,EAAE;AAAR,WAFzB;AAGE,UAAA,IAAI,EAAE,KAAK7C,KAAL,CAAW0B,iBAHnB;AAIE,UAAA,UAAU,EAAE,KAAKC,UAJnB;AAKE,UAAA,SAAS,EAAE,KAAK3B,KALlB;AAME,UAAA,YAAY,EAAE,sBAAC4B,IAAD,EAAOC,KAAP;AAAA,mBAAiBA,KAAK,CAAC2C,QAAN,EAAjB;AAAA,WANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAjBJ;AA0BE,QAAA,mBAAmB,MA1BrB;AA2BE,QAAA,KAAK,EAAE;AAAEM,UAAAA,SAAS,EAAE;AAAb,SA3BT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAxFF,CADF;AAwHD;;;EApQwBC,gB;;AAArB3F,Y,CACG4F,iB,GAAoB,gBAAoB;AAAA,MAAjBvF,UAAiB,QAAjBA,UAAiB;AAC7C,MAAMwF,WAAW,GAAGxF,UAAU,CAACyF,QAAX,CAAoB,aAApB,CAApB;AACA,SAAO;AACL/C,IAAAA,WAAW,EAAE8C,WADR;AAELE,IAAAA,qBAAqB,EAAEC,6CAAuBC,gBAFzC;AAGLC,IAAAA,WAAW,EAAE;AAAA,aAAM,6BAAC,yBAAD;AAAkB,QAAA,UAAU,EAAE7F,UAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAN;AAAA,KAHR;AAIL8F,IAAAA,gBAAgB,EAAE,QAJb;AAKLC,IAAAA,eAAe,EAAEzC,eAAWyC,eALvB;AAMLP,IAAAA,WAAW,EAAE;AACXjD,MAAAA,eAAe,EAAEe,eAAW0C;AADjB,KANR;AASLC,IAAAA,gBAAgB,EAAE;AAChBC,MAAAA,UAAU,EAAEC,sBAASC,EAAT,KAAgB,SAAhB,GAA4B,MAA5B,GAAqC;AADjC,KATb;AAYLC,IAAAA,gBAAgB,EAAE;AAAEC,MAAAA,GAAG,EAAE,OAAP;AAAgBC,MAAAA,QAAQ,EAAE;AAA1B,KAZb;AAaLC,IAAAA,cAAc,EAAE;AAbX,GAAP;AAeD,C;;AAoPH,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAlG,KAAK;AAAA,SAAK;AAChCY,IAAAA,SAAS,EAAEZ;AADqB,GAAL;AAAA,CAA7B;;eAIe,yBAAQkG,eAAR,EAAyB,IAAzB,EAA+B9G,YAA/B,C","sourcesContent":["import React, { Component } from 'react'\nimport {\n  View,\n  FlatList,\n  TextInput,\n  Dimensions,\n  I18nManager,\n  Platform\n} from 'react-native'\nimport BottomNav from '../common/BottomNav'\nimport CardTem from '../common/CardTemplate'\nimport { UIActivityIndicator } from 'react-native-indicators'\nimport { CardStyleInterpolators } from 'react-navigation-stack'\nimport { NavigationEvents } from 'react-navigation'\nimport SyncStorage from 'sync-storage'\nimport Category3Style from '../common/Categories3'\nimport { connect } from 'react-redux'\nimport WooComFetch, { getUrl } from '../common/WooComFetch'\nimport { Icon } from 'native-base'\nimport Spinner from 'react-native-loading-spinner-overlay'\nimport Toast from 'react-native-easy-toast'\nimport themeStyle from '../common/Theme.style'\nimport ShoppingCartIcon from '../common/ShoppingCartIcon'\nconst WIDTH = Dimensions.get('window').width\nclass SearchScreen extends Component {\n  static navigationOptions = ({ navigation }) => {\n    const headerStyle = navigation.getParam('headerTitle')\n    return {\n      headerTitle: headerStyle,\n      cardStyleInterpolator: CardStyleInterpolators.forHorizontalIOS,\n      headerRight: () => <ShoppingCartIcon navigation={navigation} />,\n      headerTitleAlign: 'center',\n      headerTintColor: themeStyle.headerTintColor,\n      headerStyle: {\n        backgroundColor: themeStyle.primary\n      },\n      headerTitleStyle: {\n        fontWeight: Platform.OS === 'android' ? 'bold' : 'normal'\n      },\n      headerForceInset: { top: 'never', vertical: 'never' },\n      gestureEnabled: true\n    }\n  }\n\n  constructor (props) {\n    super(props)\n    this.state = {\n      isLoading: true,\n      text: '',\n      arrayholder: [],\n      arrayholderHeader: [],\n      spinnerTemp: false\n    }\n  }\n\n  componentDidMount () {\n    this.props.navigation.setParams({\n      headerTitle: this.props.isLoading.Config.languageJson2.Search\n    })\n    this.setState(\n      {\n        isLoading: false,\n        dataSource: this.props.isLoading.cartItems.allCategories\n      },\n      function () {\n        this.setState({\n          arrayholder: this.props.isLoading.cartItems.allCategories\n        })\n      }\n    )\n  }\n\n  openSubCategories = (parent, name) => {\n    this.props.navigation.navigate('NewestScreen', {\n      id: parent.id,\n      name,\n      sortOrder: 'newest'\n    })\n  }\n\n  GetListViewItem (name) {\n    this.setState({ text: name })\n    this.props.navigation.state.params.onGoBack(\n      name,\n      this.props.navigation.state.params.onSelectionBase\n    )\n    this.props.navigation.goBack()\n  }\n\n  SearchFilterFunction (text) {\n    this.setState({\n      text\n    })\n  }\n\n  getSearchData = async () => {\n    try {\n      this.setState({ spinnerTemp: true })\n      if (this.state.text !== undefined) {\n        if (this.state.text === null || this.state.text === '') {\n          this.refs.toast.show('Please enter some text')\n          this.setState({ spinnerTemp: false })\n          return\n        }\n      } else {\n        this.setState({ spinnerTemp: false })\n        return\n      }\n      const json = await WooComFetch.postHttp(\n        getUrl() + '/api/' + 'getsearchdata',\n        {\n          searchValue: this.state.text,\n          language_id: SyncStorage.get('langId'),\n          currency_code: this.props.isLoading.Config.productsArguments.currency\n        }\n      )\n\n      if (json.data.success === '0') {\n        this.refs.toast.show('No Product found!')\n      }\n      json.data.product_data.products.map((val, key) => {\n        const temp = []\n        temp[0] = val.products_image\n        json.data.product_data.products[key].products_image = temp\n      })\n\n      this.setState({\n        arrayholderHeader: json.data.product_data.products,\n        spinnerTemp: false\n      })\n    } catch (e) {\n      this.setState({ spinnerTemp: false })\n    }\n  }\n\n  renderItem = (item, index) => (\n    <CardTem\n      objectArray={item.item}\n      index={index}\n      cardStyle={101}\n      addToCart={false}\n      width={WIDTH}\n    />\n  )\n\n  renderSeparator = () => (\n    <View style={{ height: 1, width: '100%', backgroundColor: '#ddd' }} />\n  )\n\n  render () {\n    if (this.state.isLoading) {\n      return (\n        <View style={{\n          flex: 1,\n          paddingTop: 20,\n          backgroundColor: themeStyle.backgroundColor\n        }}>\n          <UIActivityIndicator\n            color={themeStyle.loadingIndicatorColor}\n            size={27}\n          />\n        </View>\n      )\n    }\n    return (\n      <View style={{\n        justifyContent: 'center',\n        flex: 1,\n        backgroundColor: themeStyle.backgroundColor,\n        paddingBottom: SyncStorage.get('bottom') ? 50 : 0\n      }}>\n        <Spinner\n          visible={this.state.spinnerTemp}\n        />\n        <NavigationEvents\n          onDidFocus={() => {\n            this.setState({})\n          }}\n        />\n        {SyncStorage.get('bottom')\n          ? <BottomNav active={1} home={\n            this.props.isLoading.Config.homePage === 1\n              ? 'Home1Screen' : this.props.isLoading.Config.homePage === 2\n                ? 'Home2Screen' : this.props.isLoading.Config.homePage === 3\n                  ? 'Home3Screen' : this.props.isLoading.Config.homePage === 4\n                    ? 'Home4Screen' : this.props.isLoading.Config.homePage === 5\n                      ? 'Home5Screen' : this.props.isLoading.Config.homePage === 6\n                        ? 'Home6Screen' : this.props.isLoading.Config.homePage === 7\n                          ? 'Home7Screen' : this.props.isLoading.Config.homePage === 8\n                            ? 'Home8Screen' : this.props.isLoading.Config.homePage === 9\n                              ? 'Home9Screen' : 'Home10Screen'} ></BottomNav>\n          : null}\n\n        <Toast\n          ref='toast'\n          style={{ backgroundColor: '#c1c1c1' }}\n          position='bottom'\n          positionValue={200}\n          fadeOutDuration={7000}\n          textStyle={{ color: themeStyle.textColor, fontSize: 15 }}\n        />\n        <View style={{\n          flexDirection: 'row',\n          textAlign: 'center',\n          height: 40,\n          margin: 7,\n          marginBottom: -3,\n          backgroundColor: themeStyle.backgroundColor,\n          shadowOffset: { width: 1, height: 1 },\n          shadowColor: '#000',\n          shadowOpacity: 0.5,\n          elevation: 5,\n          borderWidth: 1,\n          borderColor: themeStyle.primaryContrast\n        }}>\n          <Icon\n            name={'search'}\n            style={{\n              color: 'gray',\n              fontSize: 22,\n              margin: 7,\n              marginLeft: 15,\n              marginRight: 15\n            }}\n          />\n          <TextInput\n            style={\n              ({\n                height: 40,\n                backgroundColor: themeStyle.backgroundColor,\n                padding: 10,\n                width: WIDTH - 61\n              },\n              {\n                textAlign:\n                  this.state.text === ''\n                    ? I18nManager.isRTL\n                      ? 'right'\n                      : 'left'\n                    : 'auto',\n                width: WIDTH,\n                color: themeStyle.textColor\n              })\n            }\n            placeholderTextColor={themeStyle.textColor}\n            onChangeText={text => this.SearchFilterFunction(text)}\n            value={this.state.text}\n            underlineColorAndroid='transparent'\n            placeholder='Search'\n            returnKeyType={'search'}\n            onSubmitEditing={() => this.getSearchData()}\n          />\n        </View>\n        <FlatList\n          data={this.state.dataSource}\n          extraData={this.state}\n          listKey={'products'}\n          showsVerticalScrollIndicator={false}\n          keyExtractor={(item, index) => index.toString()}\n          ItemSeparatorComponent={this.renderSeparator}\n          renderItem={item => (\n            <Category3Style\n              item={item.item}\n              id={item.index}\n              products={this.props.isLoading.Config.languageJson2.Products}\n              image={item.item.image === null ? '' : item.item.image.src}\n              openSubCategories={(t, n) => this.openSubCategories(t, n)}\n            />\n          )}\n          ListHeaderComponent={\n            <FlatList\n              style={{ marginBottom: 1 }}\n              contentContainerStyle={{ flex: 1 }}\n              data={this.state.arrayholderHeader}\n              renderItem={this.renderItem}\n              extraData={this.state}\n              keyExtractor={(item, index) => index.toString()}\n            />\n          }\n          enableEmptySections\n          style={{ marginTop: 10 }}\n        />\n      </View>\n    )\n  }\n}\nconst mapStateToProps = state => ({\n  isLoading: state\n})\n\nexport default connect(mapStateToProps, null)(SearchScreen)\n"]},"metadata":{},"sourceType":"script"}