{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar razorpayEvents = new _reactNative.NativeEventEmitter(_reactNative.NativeModules.RazorpayEventEmitter);\n\nvar removeSubscriptions = function removeSubscriptions() {\n  razorpayEvents.removeAllListeners('Razorpay::PAYMENT_SUCCESS');\n  razorpayEvents.removeAllListeners('Razorpay::PAYMENT_ERROR');\n  razorpayEvents.removeAllListeners('Razorpay::EXTERNAL_WALLET_SELECTED');\n};\n\nvar RazorpayCheckout = function () {\n  function RazorpayCheckout() {\n    (0, _classCallCheck2.default)(this, RazorpayCheckout);\n  }\n\n  (0, _createClass2.default)(RazorpayCheckout, null, [{\n    key: \"open\",\n    value: function open(options, successCallback, errorCallback) {\n      return new Promise(function (resolve, reject) {\n        razorpayEvents.addListener('Razorpay::PAYMENT_SUCCESS', function (data) {\n          var resolveFn = successCallback || resolve;\n          resolveFn(data);\n          removeSubscriptions();\n        });\n        razorpayEvents.addListener('Razorpay::PAYMENT_ERROR', function (data) {\n          var rejectFn = errorCallback || reject;\n          rejectFn(data);\n          removeSubscriptions();\n        });\n\n        _reactNative.NativeModules.RNRazorpayCheckout.open(options);\n      });\n    }\n  }, {\n    key: \"onExternalWalletSelection\",\n    value: function onExternalWalletSelection(externalWalletCallback) {\n      razorpayEvents.addListener('Razorpay::EXTERNAL_WALLET_SELECTED', function (data) {\n        externalWalletCallback(data);\n        removeSubscriptions();\n      });\n    }\n  }]);\n  return RazorpayCheckout;\n}();\n\nvar _default = RazorpayCheckout;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/mysiew/Documents/eCommerce/codecanyon-xPJMYS8x-react-native-delivery-solution-with-advance-website-and-cms/SourceCode/vesend-consumer-app-master/node_modules/react-native-razorpay/RazorpayCheckout.js"],"names":["razorpayEvents","NativeEventEmitter","NativeModules","RazorpayEventEmitter","removeSubscriptions","removeAllListeners","RazorpayCheckout","options","successCallback","errorCallback","Promise","resolve","reject","addListener","data","resolveFn","rejectFn","RNRazorpayCheckout","open","externalWalletCallback"],"mappings":"AAAA;;;;;;;;;;;;;AAEA;;AAEA,IAAMA,cAAc,GAAG,IAAIC,+BAAJ,CAAuBC,2BAAcC,oBAArC,CAAvB;;AAEA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AAChCJ,EAAAA,cAAc,CAACK,kBAAf,CAAkC,2BAAlC;AACAL,EAAAA,cAAc,CAACK,kBAAf,CAAkC,yBAAlC;AACAL,EAAAA,cAAc,CAACK,kBAAf,CAAkC,oCAAlC;AACD,CAJD;;IAMMC,gB;;;;;;;yBACQC,O,EAASC,e,EAAiBC,a,EAAe;AACnD,aAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3CZ,QAAAA,cAAc,CAACa,WAAf,CAA2B,2BAA3B,EAAwD,UAACC,IAAD,EAAU;AAChE,cAAIC,SAAS,GAAGP,eAAe,IAAIG,OAAnC;AACAI,UAAAA,SAAS,CAACD,IAAD,CAAT;AACAV,UAAAA,mBAAmB;AACpB,SAJD;AAKAJ,QAAAA,cAAc,CAACa,WAAf,CAA2B,yBAA3B,EAAsD,UAACC,IAAD,EAAU;AAC9D,cAAIE,QAAQ,GAAGP,aAAa,IAAIG,MAAhC;AACAI,UAAAA,QAAQ,CAACF,IAAD,CAAR;AACAV,UAAAA,mBAAmB;AACpB,SAJD;;AAKAF,mCAAce,kBAAd,CAAiCC,IAAjC,CAAsCX,OAAtC;AACD,OAZM,CAAP;AAaD;;;8CACgCY,sB,EAAwB;AACvDnB,MAAAA,cAAc,CAACa,WAAf,CAA2B,oCAA3B,EAAiE,UAACC,IAAD,EAAU;AACzEK,QAAAA,sBAAsB,CAACL,IAAD,CAAtB;AACAV,QAAAA,mBAAmB;AACpB,OAHD;AAID;;;;;eAGYE,gB","sourcesContent":["'use strict';\n\nimport { NativeModules, NativeEventEmitter } from 'react-native';\n\nconst razorpayEvents = new NativeEventEmitter(NativeModules.RazorpayEventEmitter);\n\nconst removeSubscriptions = () => {\n  razorpayEvents.removeAllListeners('Razorpay::PAYMENT_SUCCESS');\n  razorpayEvents.removeAllListeners('Razorpay::PAYMENT_ERROR');\n  razorpayEvents.removeAllListeners('Razorpay::EXTERNAL_WALLET_SELECTED');\n};\n\nclass RazorpayCheckout {\n  static open(options, successCallback, errorCallback) {\n    return new Promise(function(resolve, reject) {\n      razorpayEvents.addListener('Razorpay::PAYMENT_SUCCESS', (data) => {\n        let resolveFn = successCallback || resolve;\n        resolveFn(data);\n        removeSubscriptions();\n      });\n      razorpayEvents.addListener('Razorpay::PAYMENT_ERROR', (data) => {\n        let rejectFn = errorCallback || reject;\n        rejectFn(data);\n        removeSubscriptions();\n      });\n      NativeModules.RNRazorpayCheckout.open(options);\n    });\n  }\n  static onExternalWalletSelection(externalWalletCallback) {\n    razorpayEvents.addListener('Razorpay::EXTERNAL_WALLET_SELECTED', (data) => {\n      externalWalletCallback(data);\n      removeSubscriptions();\n    });\n  }\n}\n\nexport default RazorpayCheckout;\n"]},"metadata":{},"sourceType":"script"}