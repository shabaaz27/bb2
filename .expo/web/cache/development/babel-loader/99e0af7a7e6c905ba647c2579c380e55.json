{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.getUrl = exports.getHttp = exports.postHttp = exports.getHeaders = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _Theme = _interopRequireDefault(require(\"./Theme.style\"));\n\nvar _reactNativeMd = _interopRequireDefault(require(\"react-native-md5\"));\n\nvar getHeaders = function getHeaders() {\n  var d = new Date();\n  return {\n    headers: {\n      'consumer-key': _reactNativeMd.default.hex_md5(_Theme.default.consumerKey).toString(),\n      'consumer-secret': _reactNativeMd.default.hex_md5(_Theme.default.consumerSecret).toString(),\n      'consumer-nonce': d.getMilliseconds().toString() + d.getTime().toString() + '-' + Math.floor(Math.random() * 999) + 1,\n      'consumer-device-id': _Theme.default.deviceId,\n      'consumer-ip': _Theme.default.ipAdress + '.' + d.getMilliseconds().toString(),\n      'Content-Type': 'application/json'\n    }\n  };\n};\n\nexports.getHeaders = getHeaders;\n\nvar postHttp = function postHttp(url, body) {\n  var res;\n  return _regenerator.default.async(function postHttp$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regenerator.default.awrap(_axios.default.post(url, body, getHeaders()));\n\n        case 3:\n          res = _context.sent;\n          return _context.abrupt(\"return\", res.data);\n\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", _context.t0);\n\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 7]], Promise);\n};\n\nexports.postHttp = postHttp;\n\nvar getHttp = function getHttp(url, body) {\n  var res;\n  return _regenerator.default.async(function getHttp$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regenerator.default.awrap(_axios.default.get(url, getHeaders()));\n\n        case 3:\n          res = _context2.sent;\n          return _context2.abrupt(\"return\", res);\n\n        case 7:\n          _context2.prev = 7;\n          _context2.t0 = _context2[\"catch\"](0);\n          return _context2.abrupt(\"return\", _context2.t0);\n\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 7]], Promise);\n};\n\nexports.getHttp = getHttp;\n\nvar getUrl = function getUrl() {\n  if (_Theme.default.url.startsWith('https')) {\n    return _Theme.default.url;\n  } else {\n    return _Theme.default.url.replace('http', 'https');\n  }\n};\n\nexports.getUrl = getUrl;\nvar WooComFetch = {\n  postHttp: function postHttp(url, body) {\n    var returnObject, res;\n    return _regenerator.default.async(function postHttp$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            returnObject = {};\n            _context3.prev = 1;\n            _context3.next = 4;\n            return _regenerator.default.awrap(_axios.default.post(url, body, getHeaders()));\n\n          case 4:\n            res = _context3.sent;\n            returnObject.success = res.data.success;\n            returnObject.data = res.data;\n            return _context3.abrupt(\"return\", returnObject);\n\n          case 10:\n            _context3.prev = 10;\n            _context3.t0 = _context3[\"catch\"](1);\n            return _context3.abrupt(\"return\", _context3.t0);\n\n          case 13:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[1, 10]], Promise);\n  },\n  getAllBanners: function getAllBanners(type) {\n    var response;\n    return _regenerator.default.async(function getAllBanners$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return _regenerator.default.awrap(getHttp(_Theme.default.url.startsWith('https') ? _Theme.default.url + '/api/' + type : _Theme.default.url.replace('http', 'https') + '/api/' + type, {}));\n\n          case 3:\n            response = _context4.sent;\n            return _context4.abrupt(\"return\", response);\n\n          case 7:\n            _context4.prev = 7;\n            _context4.t0 = _context4[\"catch\"](0);\n            return _context4.abrupt(\"return\", _context4.t0);\n\n          case 10:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  }\n};\nvar _default = WooComFetch;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/mysiew/Documents/eCommerce/codecanyon-xPJMYS8x-react-native-delivery-solution-with-advance-website-and-cms/SourceCode/vesend-consumer-app-master/src/common/WooComFetch.js"],"names":["getHeaders","d","Date","headers","md5","hex_md5","theme","consumerKey","toString","consumerSecret","getMilliseconds","getTime","Math","floor","random","deviceId","ipAdress","postHttp","url","body","axios","post","res","data","getHttp","get","getUrl","startsWith","replace","WooComFetch","returnObject","success","getAllBanners","type","response"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport theme from './Theme.style'\nimport md5 from 'react-native-md5'\n// Get Request\nexport const getHeaders = () => {\n  const d = new Date()\n  return {\n    headers: {\n      'consumer-key': md5.hex_md5(theme.consumerKey).toString(),\n      'consumer-secret': md5.hex_md5(theme.consumerSecret).toString(),\n      'consumer-nonce':\n        d.getMilliseconds().toString() +\n        d.getTime().toString() +\n        '-' +\n        Math.floor(Math.random() * 999) +\n        1,\n      'consumer-device-id': theme.deviceId,\n      'consumer-ip': theme.ipAdress + '.' + d.getMilliseconds().toString(),\n      'Content-Type': 'application/json'\n    }\n  }\n}\n\nexport const postHttp = async (url, body) => {\n  try {\n    const res = await axios.post(url, body, getHeaders())\n    return res.data\n  } catch (err) {\n    return err\n  }\n}\n\n// Get Request\nexport const getHttp = async (url, body) => {\n  try {\n    const res = await axios.get(url, getHeaders())\n    return res\n  } catch (err) {\n    return err\n  }\n}\n\n// Get Request\nexport const getUrl = () => {\n  if (theme.url.startsWith('https')) {\n    return theme.url\n  } else {\n    return theme.url.replace('http', 'https')\n  }\n}\n\nconst WooComFetch = {\n  postHttp: async (url, body) => {\n    const returnObject = {}\n    try {\n      const res = await axios.post(url, body, getHeaders())\n      returnObject.success = res.data.success\n      returnObject.data = res.data\n      return returnObject\n    } catch (err) {\n      return err\n    }\n  },\n\n  getAllBanners: async type => {\n    try {\n      const response = await getHttp(\n        theme.url.startsWith('https')\n          ? theme.url + '/api/' + type\n          : theme.url.replace('http', 'https') + '/api/' + type,\n        {}\n      )\n      return response\n    } catch (err) {\n      return err\n    }\n  }\n}\nexport default WooComFetch\n"]},"metadata":{},"sourceType":"script"}