{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\mysiew\\\\Documents\\\\eCommerce\\\\codecanyon-xPJMYS8x-react-native-delivery-solution-with-advance-website-and-cms\\\\SourceCode\\\\vesend-consumer-app-master\\\\node_modules\\\\react-native-scalable-image\\\\index.js\";\nvar resolveAssetSource = _reactNative.Image.resolveAssetSource;\n\nvar ScalableImage = function ScalableImage(props) {\n  var ImageComponent = props.background ? _reactNative.ImageBackground : _reactNative.Image;\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      scalableWidth = _useState2[0],\n      setScalableWidth = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      scalableHeight = _useState4[0],\n      setScalableHeight = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(_react.default.createElement(ImageComponent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 40\n    }\n  })),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      image = _useState6[0],\n      setImage = _useState6[1];\n\n  var mounted = (0, _react.useRef)(false);\n  (0, _react.useEffect)(function () {\n    mounted.current = true;\n    return function () {\n      mounted.current = false;\n    };\n  }, []);\n  (0, _react.useEffect)(function () {\n    onProps(props);\n  });\n  (0, _react.useEffect)(function () {\n    setImage(_react.default.createElement(ImageComponent, (0, _extends2.default)({}, props, {\n      style: [props.style, {\n        width: scalableWidth,\n        height: scalableHeight\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    })));\n  }, [props, scalableHeight, scalableWidth]);\n\n  var onProps = function onProps(localProps) {\n    var source = localProps.source;\n\n    if (source.uri) {\n      var sourceToUse = source.uri ? source.uri : source;\n\n      _reactNative.Image.getSize(sourceToUse, function (width, height) {\n        return adjustSize(width, height, props);\n      }, console.err);\n    } else {\n      var _sourceToUse = resolveAssetSource(source);\n\n      adjustSize(_sourceToUse.width, _sourceToUse.height, props);\n    }\n  };\n\n  var adjustSize = function adjustSize(sourceWidth, sourceHeight, localProps) {\n    var width = localProps.width,\n        height = localProps.height;\n    var ratio = 1;\n\n    if (width && height) {\n      ratio = Math.min(width / sourceWidth, height / sourceHeight);\n    } else if (width) {\n      ratio = width / sourceWidth;\n    } else if (height) {\n      ratio = height / sourceHeight;\n    }\n\n    if (mounted.current) {\n      var computedWidth = sourceWidth * ratio;\n      var computedHeight = sourceHeight * ratio;\n      setScalableWidth(computedWidth);\n      setScalableHeight(computedHeight);\n      props.onSize({\n        width: computedWidth,\n        height: computedHeight\n      });\n    }\n  };\n\n  if (!props.onPress) {\n    return image;\n  } else {\n    return _react.default.createElement(_reactNative.TouchableOpacity, {\n      onPress: props.onPress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, image);\n  }\n};\n\nScalableImage.propTypes = {\n  width: _propTypes.default.number,\n  height: _propTypes.default.number,\n  onPress: _propTypes.default.func,\n  onSize: _propTypes.default.func,\n  background: _propTypes.default.bool\n};\nScalableImage.defaultProps = {\n  background: false,\n  onSize: function onSize(size) {}\n};\nvar _default = ScalableImage;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/mysiew/Documents/eCommerce/codecanyon-xPJMYS8x-react-native-delivery-solution-with-advance-website-and-cms/SourceCode/vesend-consumer-app-master/node_modules/react-native-scalable-image/index.js"],"names":["resolveAssetSource","Image","ScalableImage","props","ImageComponent","background","ImageBackground","scalableWidth","setScalableWidth","scalableHeight","setScalableHeight","image","setImage","mounted","current","onProps","style","width","height","localProps","source","uri","sourceToUse","getSize","adjustSize","console","err","sourceWidth","sourceHeight","ratio","Math","min","computedWidth","computedHeight","onSize","onPress","propTypes","PropTypes","number","func","bool","defaultProps","size"],"mappings":"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","sourcesContent":["import React, {\n    useState,\n    useEffect,\n    useRef\n} from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport {\n    Image,\n    TouchableOpacity,\n    ImageBackground\n} from 'react-native';\n\nconst resolveAssetSource = Image.resolveAssetSource;\n\nconst ScalableImage = props => {\n    const ImageComponent = props.background\n        ? ImageBackground\n        : Image;\n\n    const [scalableWidth, setScalableWidth] = useState(null);\n    const [scalableHeight, setScalableHeight] = useState(null);\n    const [image, setImage] = useState(<ImageComponent />);\n    const mounted = useRef(false);\n\n    useEffect(() => {\n        mounted.current = true;\n\n        return () => {\n            mounted.current = false;\n        }\n    }, []);\n\n    useEffect(() => {\n        onProps(props);\n    });\n\n    useEffect(() => {\n        setImage(\n            <ImageComponent\n                {...props}\n                style={[props.style, {\n                    width: scalableWidth,\n                    height: scalableHeight\n                }]}\n            />\n        );\n    }, [props, scalableHeight, scalableWidth]);\n\n    const onProps = localProps => {\n        const { source } = localProps;\n        if (source.uri) {\n            const sourceToUse = source.uri\n                ? source.uri\n                : source;\n\n            Image.getSize(\n                sourceToUse,\n                (width, height) => adjustSize(width, height, props),\n                console.err\n            );\n        }\n        else {\n            const sourceToUse = resolveAssetSource(source);\n            adjustSize(sourceToUse.width, sourceToUse.height, props);\n        }\n    };\n\n    const adjustSize = (sourceWidth, sourceHeight, localProps) => {\n        const { width, height } = localProps;\n\n        let ratio = 1;\n\n        if (width && height) {\n            ratio = Math.min(width / sourceWidth, height / sourceHeight);\n        }\n        else if (width) {\n            ratio = width / sourceWidth;\n        }\n        else if (height) {\n            ratio = height / sourceHeight;\n        }\n\n        if (mounted.current) {\n            const computedWidth = sourceWidth * ratio;\n            const computedHeight = sourceHeight * ratio;\n\n            setScalableWidth(computedWidth);\n            setScalableHeight(computedHeight);\n\n            props.onSize({ width: computedWidth, height: computedHeight });\n        }\n    };\n\n    if (!props.onPress) {\n        return image;\n    }\n    else {\n        return (\n            <TouchableOpacity onPress={props.onPress}>\n                {image}\n            </TouchableOpacity>\n        );\n    }\n};\n\nScalableImage.propTypes = {\n    width: PropTypes.number,\n    height: PropTypes.number,\n    onPress: PropTypes.func,\n    onSize: PropTypes.func,\n    background: PropTypes.bool,\n};\n\nScalableImage.defaultProps = {\n    background: false,\n    onSize: size => {}\n};\n\nexport default ScalableImage;\n"]},"metadata":{},"sourceType":"script"}