{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _Theme = _interopRequireDefault(require(\"./Theme.style\"));\n\nvar _nativeBase = require(\"native-base\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\mysiew\\\\Documents\\\\eCommerce\\\\codecanyon-xPJMYS8x-react-native-delivery-solution-with-advance-website-and-cms\\\\SourceCode\\\\vesend-consumer-app-master\\\\src\\\\common\\\\Timer.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Timer = function (_Component) {\n  (0, _inherits2.default)(Timer, _Component);\n\n  var _super = _createSuper(Timer);\n\n  function Timer(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Timer);\n    _this = _super.call(this, props);\n\n    _this.hasFinished = function () {\n      return _this.state.timer.hasFinished;\n    };\n\n    _this.initTimer = function () {\n      if (!_this.state.timeInSeconds) {\n        _this.state.timeInSeconds = 0;\n      }\n\n      _this.state.CountdownTimer.seconds = _this.state.timeInSeconds;\n      _this.state.CountdownTimer.runTimer = false;\n      _this.state.CountdownTimer.hasStarted = false;\n      _this.state.CountdownTimer.hasFinished = false;\n      _this.state.CountdownTimer.secondsRemaining = _this.state.timeInSeconds;\n      _this.state.timer = _this.state.CountdownTimer;\n      _this.state.timer.displayTime = _this.getSecondsAsDigitalClock(_this.state.timeInSeconds);\n    };\n\n    _this.startTimer = function () {\n      _this.state.timer.hasStarted = true;\n      _this.state.timer.runTimer = true;\n\n      _this.timerTick();\n    };\n\n    _this.pauseTimer = function () {\n      _this.state.timer.runTimer = false;\n    };\n\n    _this.resumeTimer = function () {\n      _this.startTimer();\n    };\n\n    _this.timerTick = function () {\n      setTimeout(function () {\n        if (!_this.state.timer.runTimer) {\n          return;\n        }\n\n        _this.state.timer.secondsRemaining--;\n        _this.state.timer.displayTime = _this.getSecondsAsDigitalClock(_this.state.timer.secondsRemaining);\n\n        _this.setState({\n          timer: _this.state.timer\n        }, function () {\n          if (_this.state.timer.secondsRemaining > 0) {\n            _this.timerTick();\n          } else {\n            _this.props.props.removeWishListProduct(_this.props.objectArray);\n\n            _this.props.props.removeRecentItems(_this.props.objectArray);\n\n            _this.props.props.removeCardFromCart(_this.props.objectArray);\n\n            _this.props.props.removeFlashCard(_this.props.objectArray);\n\n            _this.state.timer.hasFinished = true;\n\n            _this.setState({});\n          }\n        });\n      }, 1000);\n    };\n\n    _this.getSecondsAsDigitalClock = function (inputSeconds) {\n      var secNum = parseInt(inputSeconds.toString(), 10);\n      var hours = Math.floor(secNum / 3600);\n      var minutes = Math.floor((secNum - hours * 3600) / 60);\n      var seconds = secNum - hours * 3600 - minutes * 60;\n      var hoursString = '';\n      var minutesString = '';\n      var secondsString = '';\n      hoursString = hours < 10 ? '0' + hours : hours.toString();\n      minutesString = minutes < 10 ? '0' + minutes : minutes.toString();\n      secondsString = seconds < 10 ? '0' + seconds : seconds.toString();\n      return hoursString + 'h:' + minutesString + 'm:' + secondsString + 's';\n    };\n\n    _this.state = {\n      timeInSeconds: 0,\n      is_upcomming: _this.props.objectArray.server_time < _this.props.objectArray.flash_start_date,\n      seconds: _this.props.objectArray.flash_expires_date,\n      CountdownTimer: {\n        seconds: 1,\n        secondsRemaining: 1,\n        runTimer: true,\n        hasStarted: true,\n        hasFinished: false,\n        displayTime: ''\n      },\n      timer: {\n        seconds: 1,\n        secondsRemaining: 1,\n        runTimer: true,\n        hasStarted: true,\n        hasFinished: false,\n        displayTime: ''\n      }\n    };\n\n    if (_this.state.seconds === 0) {\n      _this.props.props.removeWishListProduct(_this.props.objectArray);\n\n      _this.props.props.removeRecentItems(_this.props.objectArray);\n\n      _this.props.props.removeCardFromCart(_this.props.objectArray);\n\n      _this.props.props.removeFlashCard(_this.props.objectArray);\n    } else {\n      _this.state.timeInSeconds = _this.state.seconds - _this.props.objectArray.server_time;\n    }\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(Timer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initTimer();\n      this.startTimer();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _react.default.createElement(_reactNative.TouchableOpacity, {\n        onPress: function onPress() {\n          if (_this2.state.is_upcomming) {\n            _this2.props.props.navigation.navigate('ProductDetails', {\n              objectArray: _this2.props.objectArray\n            });\n          }\n        },\n        style: {\n          margin: 5,\n          width: this.props.btnWidth,\n          marginBottom: this.props.temp === false ? 0 : 2,\n          marginTop: 0,\n          justifyContent: 'center',\n          alignItems: 'center',\n          alignSelf: 'center',\n          shadowOffset: {\n            width: 1,\n            height: 1\n          },\n          shadowColor: _Theme.default.textColor,\n          shadowOpacity: 0.5,\n          elevation: 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: {\n          padding: this.props.text !== null ? 12 : 5,\n          margin: 5,\n          width: this.props.btnWidth,\n          backgroundColor: this.props.text !== null ? _Theme.default.otherBtnsColor : this.props.color === false ? _Theme.default.primaryDark : _Theme.default.primary,\n          justifyContent: 'center',\n          alignItems: 'center',\n          alignSelf: 'center',\n          marginTop: 0,\n          marginBottom: 0,\n          borderBottomLeftRadius: this.props.temp === false ? 8 : 0,\n          borderBottomRightRadius: this.props.temp === false ? 8 : 0,\n          flexDirection: this.props.text !== null ? 'row' : 'column'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 9\n        }\n      }, this.props.text !== null ? _react.default.createElement(_nativeBase.Icon, {\n        name: 'clock',\n        style: {\n          fontSize: _Theme.default.mediumSize + 2,\n          color: _Theme.default.otherBtnsText,\n          paddingRight: 6\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }\n      }) : null, this.props.text !== null ? _react.default.createElement(_reactNative.Text, {\n        style: {\n          color: _Theme.default.addToCartBtnTextColor,\n          fontSize: _Theme.default.mediumSize + 1,\n          fontWeight: '500',\n          paddingRight: 6\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }\n      }, this.props.text) : null, this.state.is_upcomming ? _react.default.createElement(_reactNative.Text, {\n        style: {\n          color: _Theme.default.addToCartBtnTextColor,\n          fontSize: _Theme.default.mediumSize + 1,\n          fontWeight: '500'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }\n      }, this.props.languageJson2['Up Coming']) : _react.default.createElement(_reactNative.Text, {\n        style: {\n          color: _Theme.default.addToCartBtnTextColor,\n          fontSize: _Theme.default.mediumSize + 1,\n          fontWeight: '500'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }\n      }, this.state.timer.displayTime)));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {}\n  }]);\n  return Timer;\n}(_react.Component);\n\nexports.default = Timer;","map":{"version":3,"sources":["C:/Users/mysiew/Documents/eCommerce/codecanyon-xPJMYS8x-react-native-delivery-solution-with-advance-website-and-cms/SourceCode/vesend-consumer-app-master/src/common/Timer.js"],"names":["Timer","props","hasFinished","state","timer","initTimer","timeInSeconds","CountdownTimer","seconds","runTimer","hasStarted","secondsRemaining","displayTime","getSecondsAsDigitalClock","startTimer","timerTick","pauseTimer","resumeTimer","setTimeout","setState","removeWishListProduct","objectArray","removeRecentItems","removeCardFromCart","removeFlashCard","inputSeconds","secNum","parseInt","toString","hours","Math","floor","minutes","hoursString","minutesString","secondsString","is_upcomming","server_time","flash_start_date","flash_expires_date","navigation","navigate","margin","width","btnWidth","marginBottom","temp","marginTop","justifyContent","alignItems","alignSelf","shadowOffset","height","shadowColor","theme","textColor","shadowOpacity","elevation","padding","text","backgroundColor","otherBtnsColor","color","primaryDark","primary","borderBottomLeftRadius","borderBottomRightRadius","flexDirection","fontSize","mediumSize","otherBtnsText","paddingRight","addToCartBtnTextColor","fontWeight","languageJson2","nextProps","prevState","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {\n  Text, // Renders text\n  TouchableOpacity, // Pressable container\n  View\n} from 'react-native'\nimport theme from './Theme.style'\nimport { Icon } from 'native-base'\nexport default class Timer extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      timeInSeconds: 0,\n      is_upcomming:\n        this.props.objectArray.server_time <\n        this.props.objectArray.flash_start_date,\n      seconds: this.props.objectArray.flash_expires_date,\n      CountdownTimer: {\n        seconds: 1,\n        secondsRemaining: 1,\n        runTimer: true,\n        hasStarted: true,\n        hasFinished: false,\n        displayTime: ''\n      },\n      timer: {\n        seconds: 1,\n        secondsRemaining: 1,\n        runTimer: true,\n        hasStarted: true,\n        hasFinished: false,\n        displayTime: ''\n      }\n    }\n\n    if (this.state.seconds === 0) {\n      this.props.props.removeWishListProduct(this.props.objectArray)\n      this.props.props.removeRecentItems(this.props.objectArray)\n      this.props.props.removeCardFromCart(this.props.objectArray)\n      this.props.props.removeFlashCard(this.props.objectArray)\n    } else {\n      this.state.timeInSeconds =\n        this.state.seconds - this.props.objectArray.server_time\n    }\n  }\n\n  static getDerivedStateFromProps (nextProps, prevState) {}\n  componentDidMount () {\n    this.initTimer()\n    this.startTimer()\n  }\n\n  hasFinished = () => {\n    return this.state.timer.hasFinished\n  }\n\n  initTimer = () => {\n    if (!this.state.timeInSeconds) {\n      this.state.timeInSeconds = 0\n    }\n\n    this.state.CountdownTimer.seconds = this.state.timeInSeconds\n    this.state.CountdownTimer.runTimer = false\n    this.state.CountdownTimer.hasStarted = false\n    this.state.CountdownTimer.hasFinished = false\n    this.state.CountdownTimer.secondsRemaining = this.state.timeInSeconds\n    this.state.timer = this.state.CountdownTimer\n    this.state.timer.displayTime = this.getSecondsAsDigitalClock(\n      this.state.timeInSeconds\n    )\n  }\n\n  startTimer = () => {\n    this.state.timer.hasStarted = true\n    this.state.timer.runTimer = true\n    this.timerTick()\n  }\n\n  pauseTimer = () => {\n    this.state.timer.runTimer = false\n  }\n\n  resumeTimer = () => {\n    this.startTimer()\n  }\n\n  timerTick = () => {\n    setTimeout(() => {\n      if (!this.state.timer.runTimer) {\n        return\n      }\n      this.state.timer.secondsRemaining--\n      this.state.timer.displayTime = this.getSecondsAsDigitalClock(\n        this.state.timer.secondsRemaining\n      )\n      this.setState({ timer: this.state.timer }, () => {\n        if (this.state.timer.secondsRemaining > 0) {\n          this.timerTick()\n        } else {\n          this.props.props.removeWishListProduct(this.props.objectArray)\n          this.props.props.removeRecentItems(this.props.objectArray)\n          this.props.props.removeCardFromCart(this.props.objectArray)\n          this.props.props.removeFlashCard(this.props.objectArray)\n          this.state.timer.hasFinished = true\n          this.setState({})\n        }\n      })\n    }, 1000)\n  }\n\n  getSecondsAsDigitalClock = inputSeconds => {\n    const secNum = parseInt(inputSeconds.toString(), 10) // don't forget the second param\n    const hours = Math.floor(secNum / 3600)\n    const minutes = Math.floor((secNum - hours * 3600) / 60)\n    const seconds = secNum - hours * 3600 - minutes * 60\n    let hoursString = ''\n    let minutesString = ''\n    let secondsString = ''\n    hoursString = hours < 10 ? '0' + hours : hours.toString()\n    minutesString = minutes < 10 ? '0' + minutes : minutes.toString()\n    secondsString = seconds < 10 ? '0' + seconds : seconds.toString()\n    return hoursString + 'h:' + minutesString + 'm:' + secondsString + 's'\n  }\n\n  render () {\n    return (\n      <TouchableOpacity\n        onPress={() => {\n          if (this.state.is_upcomming) {\n            this.props.props.navigation.navigate('ProductDetails', {\n              objectArray: this.props.objectArray\n            })\n          }\n        }}\n        style={{\n          margin: 5,\n          width: this.props.btnWidth,\n          marginBottom: this.props.temp === false ? 0 : 2,\n          marginTop: 0,\n          justifyContent: 'center',\n          alignItems: 'center',\n          alignSelf: 'center',\n          shadowOffset: { width: 1, height: 1 },\n          shadowColor: theme.textColor,\n          shadowOpacity: 0.5,\n          elevation: 3\n        }}>\n        <View\n          style={{\n            padding: this.props.text !== null ? 12 : 5,\n            margin: 5,\n            width: this.props.btnWidth,\n            backgroundColor:\n              this.props.text !== null\n                ? theme.otherBtnsColor\n                : this.props.color === false\n                  ? theme.primaryDark\n                  : theme.primary,\n            justifyContent: 'center',\n            alignItems: 'center',\n            alignSelf: 'center',\n            marginTop: 0,\n            marginBottom: 0,\n            borderBottomLeftRadius: this.props.temp === false ? 8 : 0,\n            borderBottomRightRadius: this.props.temp === false ? 8 : 0,\n            flexDirection: this.props.text !== null ? 'row' : 'column'\n          }}>\n          {this.props.text !== null ? (\n            <Icon\n              name={'clock'}\n              style={{\n                fontSize: theme.mediumSize + 2,\n                color: theme.otherBtnsText,\n                paddingRight: 6\n              }}\n            />\n          ) : null}\n          {this.props.text !== null ? (\n            <Text\n              style={{\n                color: theme.addToCartBtnTextColor,\n                fontSize: theme.mediumSize + 1,\n                fontWeight: '500',\n                paddingRight: 6\n              }}>\n              {this.props.text}\n            </Text>\n          ) : null}\n          {this.state.is_upcomming ? (\n            <Text\n              style={{\n                color: theme.addToCartBtnTextColor,\n                fontSize: theme.mediumSize + 1,\n                fontWeight: '500'\n              }}>\n              {this.props.languageJson2['Up Coming']}\n            </Text>\n          ) : (\n            <Text\n              style={{\n                color: theme.addToCartBtnTextColor,\n                fontSize: theme.mediumSize + 1,\n                fontWeight: '500'\n              }}>\n              {this.state.timer.displayTime}\n            </Text>\n          )}\n        </View>\n      </TouchableOpacity>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"script"}